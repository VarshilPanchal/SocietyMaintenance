(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{"13Ib":function(e,t,n){"use strict";n.r(t),n.d(t,"AdminModule",(function(){return bi}));var i=n("ofXK"),a=n("3Pt+"),r=n("pn/5"),o=n("tyNb"),c=n("fXoL");let l=(()=>{class e{constructor(){}ngOnInit(){}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275cmp=c.Gb({type:e,selectors:[["app-admin"]],decls:1,vars:0,template:function(e,t){1&e&&c.Nb(0,"router-outlet")},directives:[o.d],styles:[".custom-height[_ngcontent-%COMP%]{height:100%}"]}),e})();var s=n("Wv//"),b=n("hKST"),u=n("o+pE"),d=n("f9H9"),m=n("oEi/"),p=n("7kUa"),g=n("sKUQ");function h(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," required "),c.Rb())}function f(e,t){if(1&e&&(c.Sb(0,"div",18),c.Lc(1,h,2,0,"div",19),c.Rb()),2&e){const e=c.gc();c.Ab(1),c.nc("ngIf",e.loginForm.get("username").errors.required)}}function R(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," required "),c.Rb())}function v(e,t){if(1&e&&(c.Sb(0,"div",18),c.Lc(1,R,2,0,"div",19),c.Rb()),2&e){const e=c.gc();c.Ab(1),c.nc("ngIf",e.loginForm.get("password").errors.required)}}let S=(()=>{class e{constructor(e,t,n,i,a,r){this.authService=e,this.errorService=t,this.formBuilder=n,this.notificationService=i,this.route=a,this.localStorageService=r,this.dataTableParams={offset:0,size:10,sortField:"NAME",sortOrder:1,searchText:null},this.submitted=!1}ngOnInit(){this.loginForm=this.formBuilder.group({username:["",s.a.required],password:["",s.a.required]})}prepareQueryParam(e){const t=new URLSearchParams;for(const n in e)t.set(n,e[n]);return t}onSubmit(e){if(!this.loginForm.valid)return s.a.markFormGroupTouched(this.loginForm),this.submitted=!0,!1;const t=this.loginForm.controls.username.value,n=this.loginForm.controls.password.value;this.authService.getUser(t).valueChanges().subscribe(e=>{console.log(e),e?(this.loginData=e,this.authService.changePassword(t,e,n),this.notificationService.error("Password Updated","")):this.notificationService.error("Invalid Username","")},e=>{console.error(e)})}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(b.a),c.Mb(u.a),c.Mb(a.b),c.Mb(d.a),c.Mb(o.a),c.Mb(m.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-change-password"]],decls:25,vars:3,consts:[[1,"relative","w-full","h-full","py-40","min-h-screen"],[1,"absolute","top-0","w-full","h-full","bg-blueGray-800","bg-no-repeat","bg-full",2,"background-image","url('assets/img/register_bg_2.png')"],[1,"d-flex","align-self-center","main-nav","bg-primary","text-dark"],[1,"py-2","pl-4"],[1,"container","mt-10","px-4","h-full"],[1,"flex","content-center","items-center","justify-center","h-full"],[1,"w-full","lg:w-4/12","px-4"],[1,"relative","flex","flex-col","min-w-0","break-words","w-full","mb-6","shadow-lg","rounded-lg","bg-blueGray-200","border-0"],[1,"flex-auto","px-4","lg:px-10","py-10","pt-0"],[3,"formGroup","ngSubmit"],[1,"relative","mt-10","w-full","mb-3"],["htmlFor","grid-password",1,"block","uppercase","text-blueGray-600","text-xs","font-bold","mb-2"],["formControlName","username","placeholder","Username","pInputText","","pKeyFilter","alphanum",1,"border-0","px-3","py-3","placeholder-blueGray-300","text-blueGray-600","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:ring","w-full","ease-linear","transition-all","duration-150"],["class","p-invalid",4,"ngIf"],[1,"relative","w-full","mb-3"],["type","password","formControlName","password","placeholder","Password",1,"form-control","border-0","px-3","py-3","placeholder-blueGray-300","text-blueGray-600","bg-white","rounded","text-sm","shadow","focus:outline-none","focus:ring","w-full","ease-linear","transition-all","duration-150"],[1,"text-center","mt-6"],["type","submit",1,"bg-blueGray-800","text-white","active:bg-blueGray-600","text-sm","font-bold","uppercase","px-6","py-3","rounded","shadow","hover:shadow-lg","outline-none","focus:outline-none","mr-1","mb-1","w-full","ease-linear","transition-all","duration-150"],[1,"p-invalid"],[4,"ngIf"]],template:function(e,t){1&e&&(c.Sb(0,"section",0),c.Nb(1,"div",1),c.Sb(2,"nav",2),c.Sb(3,"div",3),c.Sb(4,"b"),c.Nc(5,"Change Password"),c.Rb(),c.Rb(),c.Rb(),c.Sb(6,"div",4),c.Sb(7,"div",5),c.Sb(8,"div",6),c.Sb(9,"div",7),c.Sb(10,"div",8),c.Sb(11,"form",9),c.dc("ngSubmit",(function(){return t.onSubmit(t.loginForm.value)})),c.Sb(12,"div",10),c.Sb(13,"label",11),c.Nc(14," Username "),c.Rb(),c.Nb(15,"input",12),c.Rb(),c.Lc(16,f,2,1,"div",13),c.Sb(17,"div",14),c.Sb(18,"label",11),c.Nc(19," Password "),c.Rb(),c.Nb(20,"input",15),c.Rb(),c.Lc(21,v,2,1,"div",13),c.Sb(22,"div",16),c.Sb(23,"button",17),c.Nc(24," Change Password "),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e&&(c.Ab(11),c.nc("formGroup",t.loginForm),c.Ab(5),c.nc("ngIf",t.submitted&&!t.loginForm.get("username").valid||!t.loginForm.get("username").valid&&t.loginForm.get("username").touched),c.Ab(5),c.nc("ngIf",t.submitted&&!t.loginForm.get("password").valid||!t.loginForm.get("password").valid&&t.loginForm.get("password").touched))},directives:[a.s,a.l,a.e,a.a,a.k,a.d,p.a,g.a,i.m],styles:[""]}),e})();var N=n("wOnQ"),A=n.n(N),M=n("i680"),y=n("oD4/");class F{}var D=n("FuUq"),T=n("sSZD"),B=n("xCe4"),w=n("rEr+"),x=n("7zfz"),I=n("xlun"),P=n("/RsI"),q=n("jIHw"),L=n("Q4Mo"),C=n("arFO");function k(e,t){1&e&&c.Nb(0,"col",27)}function E(e,t){if(1&e&&(c.Sb(0,"colgroup"),c.Lc(1,k,1,0,"col",26),c.Rb()),2&e){const e=c.gc();c.Ab(1),c.nc("ngForOf",e.cols)}}function O(e,t){if(1&e&&(c.Sb(0,"th"),c.Nc(1),c.Rb()),2&e){const e=t.$implicit;c.Ab(1),c.Pc(" ",e.header," ")}}function G(e,t){if(1&e&&(c.Sb(0,"tr"),c.Lc(1,O,2,1,"th",28),c.Rb()),2&e){const e=c.gc();c.Ab(1),c.nc("ngForOf",e.cols)}}function U(e,t){if(1&e&&(c.Sb(0,"td"),c.Sb(1,"p",35),c.Nc(2),c.hc(3,"currency"),c.Rb(),c.Rb()),2&e){const e=c.gc().$implicit;c.Ab(2),c.Pc(" ",c.kc(3,1,e.amount,"INR","symbol")," ")}}function H(e,t){if(1&e&&(c.Sb(0,"td"),c.Sb(1,"p",36),c.Nc(2),c.hc(3,"currency"),c.Rb(),c.Rb()),2&e){const e=c.gc().$implicit;c.Ab(2),c.Pc(" ",c.kc(3,1,e.amount,"INR","symbol")," ")}}function _(e,t){if(1&e){const e=c.Tb();c.Sb(0,"tr"),c.Sb(1,"td"),c.Nc(2),c.Rb(),c.Lc(3,U,4,5,"td",29),c.Lc(4,H,4,5,"ng-template",null,30,c.Mc),c.Sb(6,"td"),c.Sb(7,"button",31),c.dc("click",(function(){c.Bc(e);const n=t.$implicit;return c.gc().generateMaintenance(n.user_name,n.amount,null==n?null:n.previousReading)})),c.Nb(8,"i",32),c.Rb(),c.Nc(9," \xa0 "),c.Sb(10,"button",33),c.dc("click",(function(){c.Bc(e);const n=t.$implicit;return c.gc().showReceivePaymentDialog(n.user_name)})),c.Nb(11,"i",34),c.Rb(),c.Nc(12," \xa0 "),c.Rb(),c.Rb()}if(2&e){const e=t.$implicit,n=c.Ac(5);c.Ab(2),c.Pc(" ",e.user_name," "),c.Ab(1),c.nc("ngIf",e.amount>0)("ngIfElse",n)}}function z(e,t){1&e&&(c.Sb(0,"tr"),c.Sb(1,"td",37),c.Nc(2," No records found "),c.Rb(),c.Rb()),2&e&&(c.Ab(1),c.Bb("colspan",3))}function V(e,t){1&e&&(c.Sb(0,"div",43),c.Nc(1," required "),c.Rb())}function W(e,t){if(1&e){const e=c.Tb();c.Sb(0,"form",38),c.dc("ngSubmit",(function(){return c.Bc(e),c.gc().onSubmitWaterBillForm()})),c.Sb(1,"div",39),c.Sb(2,"label",40),c.Nc(3,"Amount* "),c.Rb(),c.Nb(4,"input",41),c.Lc(5,V,2,0,"div",42),c.Rb(),c.Rb()}if(2&e){const e=c.gc();c.nc("formGroup",e.waterBillForm),c.Ab(5),c.nc("ngIf",e.waterBillForm.controls.amount.touched&&e.waterBillForm.controls.amount.hasError("required")&&!e.waterBillForm.controls.amount.valid)}}function K(e,t){if(1&e){const e=c.Tb();c.Sb(0,"button",44),c.dc("click",(function(){return c.Bc(e),c.gc().hideWaterBillDialog()})),c.Rb(),c.Sb(1,"button",45),c.dc("click",(function(){return c.Bc(e),c.gc().onSubmitWaterBillForm()})),c.Rb()}}function J(e,t){1&e&&(c.Sb(0,"div",43),c.Nc(1," required "),c.Rb())}function $(e,t){if(1&e){const e=c.Tb();c.Sb(0,"form",38),c.dc("ngSubmit",(function(){return c.Bc(e),c.gc().onSubmitTenatForm()})),c.Sb(1,"div",39),c.Sb(2,"label",40),c.Nc(3,"Amount* "),c.Rb(),c.Nb(4,"input",41),c.Lc(5,J,2,0,"div",42),c.Rb(),c.Rb()}if(2&e){const e=c.gc();c.nc("formGroup",e.tenatForm),c.Ab(5),c.nc("ngIf",e.tenatForm.controls.amount.touched&&e.tenatForm.controls.amount.hasError("required")&&!e.tenatForm.controls.amount.valid)}}function j(e,t){if(1&e){const e=c.Tb();c.Sb(0,"button",44),c.dc("click",(function(){return c.Bc(e),c.gc().hidetenatDialog()})),c.Rb(),c.Sb(1,"button",45),c.dc("click",(function(){return c.Bc(e),c.gc().onSubmitTenatForm()})),c.Rb()}}function Q(e,t){1&e&&(c.Sb(0,"div",43),c.Nc(1," required "),c.Rb())}function Y(e,t){1&e&&(c.Sb(0,"div",43),c.Nc(1," required "),c.Rb())}function Z(e,t){if(1&e){const e=c.Tb();c.Sb(0,"form",38),c.dc("ngSubmit",(function(){return c.Bc(e),c.gc().onSubmitMaintenanceForm()})),c.Sb(1,"div",39),c.Sb(2,"label",40),c.Nc(3,"Select maintenance Type* "),c.Rb(),c.Nb(4,"p-dropdown",46),c.Lc(5,Q,2,0,"div",42),c.Rb(),c.Sb(6,"div",39),c.Sb(7,"label",40),c.Nc(8,"Amount* "),c.Rb(),c.Nb(9,"input",41),c.Lc(10,Y,2,0,"div",42),c.Rb(),c.Rb()}if(2&e){const e=c.gc();c.nc("formGroup",e.maintenanceForm),c.Ab(4),c.nc("options",e.maintainenceType)("showClear",!0),c.Ab(1),c.nc("ngIf",e.maintenanceForm.controls.type.touched&&e.maintenanceForm.controls.type.hasError("required")&&!e.maintenanceForm.controls.type.valid),c.Ab(5),c.nc("ngIf",e.maintenanceForm.controls.amount.touched&&e.maintenanceForm.controls.amount.hasError("required")&&!e.maintenanceForm.controls.amount.valid)}}function X(e,t){if(1&e){const e=c.Tb();c.Sb(0,"button",44),c.dc("click",(function(){return c.Bc(e),c.gc().hidemaintenanceDialog()})),c.Rb(),c.Sb(1,"button",45),c.dc("click",(function(){return c.Bc(e),c.gc().onSubmitMaintenanceForm()})),c.Rb()}}function ee(e,t){1&e&&(c.Sb(0,"div",43),c.Nc(1," required "),c.Rb())}function te(e,t){1&e&&(c.Sb(0,"div",43),c.Nc(1," required "),c.Rb())}function ne(e,t){if(1&e){const e=c.Tb();c.Sb(0,"form",38),c.dc("ngSubmit",(function(){return c.Bc(e),c.gc().onSubmitTransferFeesForm()})),c.Sb(1,"div",39),c.Sb(2,"label",40),c.Nc(3,"Select Flat* "),c.Rb(),c.Nb(4,"p-dropdown",47),c.Lc(5,ee,2,0,"div",42),c.Rb(),c.Sb(6,"div",39),c.Sb(7,"label",40),c.Nc(8,"Amount* "),c.Rb(),c.Nb(9,"input",41),c.Lc(10,te,2,0,"div",42),c.Rb(),c.Rb()}if(2&e){const e=c.gc();c.nc("formGroup",e.TransferForm),c.Ab(4),c.nc("options",e.flatType),c.Ab(1),c.nc("ngIf",e.TransferForm.controls.type.touched&&e.TransferForm.controls.type.hasError("required")&&!e.TransferForm.controls.type.valid),c.Ab(5),c.nc("ngIf",e.TransferForm.controls.amount.touched&&e.TransferForm.controls.amount.hasError("required")&&!e.TransferForm.controls.amount.valid)}}function ie(e,t){if(1&e){const e=c.Tb();c.Sb(0,"button",44),c.dc("click",(function(){return c.Bc(e),c.gc().hideTransferDialog()})),c.Rb(),c.Sb(1,"button",45),c.dc("click",(function(){return c.Bc(e),c.gc().onSubmitTransferFeesForm()})),c.Rb()}}function ae(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function re(e,t){if(1&e&&(c.Sb(0,"div",43),c.Lc(1,ae,2,0,"div",65),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.generateMaintenanceForm.get("maintainenceType").errors.required)}}function oe(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function ce(e,t){if(1&e&&(c.Sb(0,"div",43),c.Lc(1,oe,2,0,"div",65),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.generateMaintenanceForm.get("month").errors.required)}}function le(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function se(e,t){if(1&e&&(c.Sb(0,"div",43),c.Lc(1,le,2,0,"div",65),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.generateMaintenanceForm.get("maintenanceAmount").errors.required)}}function be(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function ue(e,t){if(1&e&&(c.Sb(0,"div",43),c.Lc(1,be,2,0,"div",65),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.generateMaintenanceForm.get("waterAmount").errors.required)}}function de(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function me(e,t){if(1&e&&(c.Sb(0,"div",43),c.Lc(1,de,2,0,"div",65),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.generateMaintenanceForm.get("currentReading").errors.required)}}function pe(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function ge(e,t){if(1&e&&(c.Sb(0,"div",43),c.Lc(1,pe,2,0,"div",65),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.generateMaintenanceForm.get("previousReading").errors.required)}}function he(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function fe(e,t){if(1&e&&(c.Sb(0,"div",43),c.Lc(1,he,2,0,"div",65),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.generateMaintenanceForm.get("usedUnit").errors.required)}}function Re(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function ve(e,t){if(1&e&&(c.Sb(0,"div",43),c.Lc(1,Re,2,0,"div",65),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.generateMaintenanceForm.get("averageReading").errors.required)}}function Se(e,t){if(1&e){const e=c.Tb();c.Sb(0,"form",38),c.dc("ngSubmit",(function(){return c.Bc(e),c.gc().GenerateMaintenanceBill()})),c.Sb(1,"div",39),c.Sb(2,"label",40),c.Nc(3,"Select Maintainence Type* "),c.Rb(),c.Nb(4,"p-dropdown",48),c.Lc(5,re,2,1,"div",42),c.Rb(),c.Sb(6,"div",39),c.Sb(7,"label",40),c.Nc(8,"Month* "),c.Rb(),c.Nb(9,"p-dropdown",49),c.Lc(10,ce,2,1,"div",42),c.Rb(),c.Sb(11,"div",39),c.Sb(12,"label",50),c.Nc(13,"Maintenance Amount* "),c.Rb(),c.Nb(14,"input",51),c.Lc(15,se,2,1,"div",42),c.Rb(),c.Sb(16,"div",39),c.Sb(17,"label",52),c.Nc(18,"Water Bill Amount* "),c.Rb(),c.Nb(19,"input",53),c.Lc(20,ue,2,1,"div",42),c.Rb(),c.Sb(21,"div",39),c.Sb(22,"label",54),c.Nc(23,"Current Reading* "),c.Rb(),c.Nb(24,"input",55),c.Lc(25,me,2,1,"div",42),c.Rb(),c.Sb(26,"div",39),c.Sb(27,"label",56),c.Nc(28,"Previous Reading* "),c.Rb(),c.Nb(29,"input",57),c.Lc(30,ge,2,1,"div",42),c.Rb(),c.Sb(31,"div",39),c.Sb(32,"label",58),c.Nc(33,"Used Water unit* "),c.Rb(),c.Nb(34,"input",59),c.Lc(35,fe,2,1,"div",42),c.Rb(),c.Sb(36,"div",39),c.Sb(37,"label",60),c.Nc(38,"Average Water Bill "),c.Rb(),c.Nb(39,"input",61),c.Lc(40,ve,2,1,"div",42),c.Rb(),c.Sb(41,"div",39),c.Sb(42,"label",62),c.Nc(43,"Other amount"),c.Rb(),c.Nb(44,"input",63),c.Rb(),c.Sb(45,"div",39),c.Sb(46,"label",62),c.Nc(47,"Other description"),c.Rb(),c.Nb(48,"input",64),c.Rb(),c.Rb()}if(2&e){const e=c.gc();c.nc("formGroup",e.generateMaintenanceForm),c.Ab(4),c.nc("options",e.maintainenceType)("showClear",!0),c.Ab(1),c.nc("ngIf",e.generateMaintenanceFormSubmitted&&!e.generateMaintenanceForm.get("maintainenceType").valid||!e.generateMaintenanceForm.get("maintainenceType").valid&&e.generateMaintenanceForm.get("maintainenceType").touched),c.Ab(4),c.nc("options",e.monthList)("showClear",!0),c.Ab(1),c.nc("ngIf",e.generateMaintenanceFormSubmitted&&!e.generateMaintenanceForm.get("month").valid||!e.generateMaintenanceForm.get("month").valid&&e.generateMaintenanceForm.get("month").touched),c.Ab(5),c.nc("ngIf",e.generateMaintenanceFormSubmitted&&!e.generateMaintenanceForm.get("maintenanceAmount").valid||!e.generateMaintenanceForm.get("maintenanceAmount").valid&&e.generateMaintenanceForm.get("maintenanceAmount").touched),c.Ab(5),c.nc("ngIf",e.generateMaintenanceFormSubmitted&&!e.generateMaintenanceForm.get("waterAmount").valid||!e.generateMaintenanceForm.get("waterAmount").valid&&e.generateMaintenanceForm.get("waterAmount").touched),c.Ab(5),c.nc("ngIf",e.generateMaintenanceFormSubmitted&&!e.generateMaintenanceForm.get("currentReading").valid||!e.generateMaintenanceForm.get("currentReading").valid&&e.generateMaintenanceForm.get("currentReading").touched),c.Ab(5),c.nc("ngIf",e.generateMaintenanceFormSubmitted&&!e.generateMaintenanceForm.get("previousReading").valid||!e.generateMaintenanceForm.get("previousReading").valid&&e.generateMaintenanceForm.get("previousReading").touched),c.Ab(5),c.nc("ngIf",e.generateMaintenanceFormSubmitted&&!e.generateMaintenanceForm.get("usedUnit").valid||!e.generateMaintenanceForm.get("usedUnit").valid&&e.generateMaintenanceForm.get("usedUnit").touched),c.Ab(5),c.nc("ngIf",e.generateMaintenanceFormSubmitted&&!e.generateMaintenanceForm.get("averageReading").valid||!e.generateMaintenanceForm.get("averageReading").valid&&e.generateMaintenanceForm.get("averageReading").touched)}}function Ne(e,t){if(1&e){const e=c.Tb();c.Sb(0,"button",44),c.dc("click",(function(){return c.Bc(e),c.gc().hideGenerateMaintenanceDialog()})),c.Rb(),c.Sb(1,"button",45),c.dc("click",(function(){c.Bc(e);const t=c.gc();return t.GenerateMaintenanceBill(t.generateMaintenanceForm)})),c.Rb()}}function Ae(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Oc(null==e.receiptDetail?null:e.receiptDetail.reading)}}function Me(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Oc(null==e.receiptDetail?null:e.receiptDetail.usedUnit)}}function ye(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Oc(null==e.receiptDetail?null:e.receiptDetail.waterAmount)}}function Fe(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Oc(null==e.receiptDetail?null:e.receiptDetail.maintenanceAmount)}}function De(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Oc(null==e.receiptDetail?null:e.receiptDetail.payType.label)}}function Te(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Oc(null==e.receiptDetail?null:e.receiptDetail.amount)}}function Be(e,t){if(1&e&&(c.Sb(0,"div",67),c.Sb(1,"table",68),c.Sb(2,"thead",69),c.Sb(3,"tr"),c.Sb(4,"th",70),c.Nc(5," Maintenance Bill"),c.Rb(),c.Rb(),c.Sb(6,"tr"),c.Sb(7,"th",71),c.Nc(8,"The Aqua Polaris Co. Op. Housing Service Society Limited, "),c.Nb(9,"br"),c.Nc(10,"Nr. S.P. Ring Road, NH-8, "),c.Nb(11,"br"),c.Nc(12,"Nr. Pushkar bung, Nana Chiloda, Ahmedabad "),c.Nb(13,"br"),c.Nc(14,"382330 "),c.Nb(15,"br"),c.Nc(16,"Registered Cert. No.: NA DH N/ GNR/ SA(HA) 7347 Year 2012 "),c.Nb(17,"br"),c.Nb(18,"br"),c.Nb(19,"i",72),c.Nc(20,"\xa0aquapolaris0310@gmail.com "),c.Rb(),c.Rb(),c.Sb(21,"tr"),c.Sb(22,"th",73),c.Nc(23),c.Rb(),c.Rb(),c.Sb(24,"tr"),c.Sb(25,"th",73),c.Nc(26,"Month : createdDate"),c.Rb(),c.Rb(),c.Sb(27,"tr"),c.Sb(28,"th",15),c.Nc(29,"Description"),c.Rb(),c.Sb(30,"th",15),c.Nc(31,"Unit"),c.Rb(),c.Sb(32,"th",15),c.Nc(33,"Amount"),c.Rb(),c.Rb(),c.Rb(),c.Sb(34,"tbody"),c.Sb(35,"tr"),c.Sb(36,"td",74),c.Nc(37,"Current Reading"),c.Rb(),c.Lc(38,Ae,2,1,"td",65),c.Sb(39,"td"),c.Nc(40,"100"),c.Rb(),c.Rb(),c.Sb(41,"tr"),c.Sb(42,"td"),c.Nc(43,"Used Unit "),c.Rb(),c.Lc(44,Me,2,1,"td",65),c.Sb(45,"td"),c.Nc(46,"33"),c.Rb(),c.Rb(),c.Sb(47,"tr"),c.Sb(48,"td"),c.Nc(49,"Rate /- unit"),c.Rb(),c.Lc(50,ye,2,1,"td",65),c.Sb(51,"td"),c.Nc(52,"500"),c.Rb(),c.Rb(),c.Sb(53,"tr"),c.Sb(54,"td"),c.Nc(55,"Maintenance Amount"),c.Rb(),c.Lc(56,Fe,2,1,"td",65),c.Sb(57,"td"),c.Nc(58,"653"),c.Rb(),c.Rb(),c.Sb(59,"tr"),c.Sb(60,"td"),c.Nc(61,"Remaining Amount"),c.Rb(),c.Sb(62,"td"),c.Nc(63,"55"),c.Rb(),c.Sb(64,"td"),c.Nc(65,"653"),c.Rb(),c.Rb(),c.Sb(66,"tr"),c.Sb(67,"td"),c.Nc(68,"Payment type"),c.Rb(),c.Lc(69,De,2,1,"td",65),c.Sb(70,"td"),c.Nc(71,"653"),c.Rb(),c.Rb(),c.Sb(72,"tr"),c.Nb(73,"td"),c.Nb(74,"td"),c.Nb(75,"td"),c.Rb(),c.Sb(76,"tr"),c.Sb(77,"td"),c.Nc(78,"Total"),c.Rb(),c.Lc(79,Te,2,1,"td",65),c.Sb(80,"td"),c.Nc(81,"@twitter"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e){const e=c.gc(2);c.Ab(23),c.Pc("Name : ",e.flatNo,""),c.Ab(15),c.nc("ngIf",null==e.receiptDetail?null:e.receiptDetail.reading),c.Ab(6),c.nc("ngIf",null==e.receiptDetail?null:e.receiptDetail.usedUnit),c.Ab(6),c.nc("ngIf",null==e.receiptDetail?null:e.receiptDetail.waterAmount),c.Ab(6),c.nc("ngIf",null==e.receiptDetail?null:e.receiptDetail.maintenanceAmount),c.Ab(13),c.nc("ngIf",null==e.receiptDetail?null:e.receiptDetail.payType),c.Ab(10),c.nc("ngIf",null==e.receiptDetail?null:e.receiptDetail.amount)}}function we(e,t){if(1&e&&c.Lc(0,Be,82,7,"div",66),2&e){const e=c.gc();c.nc("ngIf",e.generateMaintenanceBillDialog)}}function xe(e,t){if(1&e){const e=c.Tb();c.Sb(0,"button",75),c.dc("click",(function(){return c.Bc(e),c.gc().exportPdf()})),c.Nb(1,"i",76),c.Rb()}}function Ie(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function Pe(e,t){if(1&e&&(c.Sb(0,"div",43),c.Lc(1,Ie,2,0,"div",65),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.receivePaymentForm.get("amount").errors.required)}}function qe(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function Le(e,t){if(1&e&&(c.Sb(0,"div",43),c.Lc(1,qe,2,0,"div",65),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.receivePaymentForm.get("payType").errors.required)}}function Ce(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function ke(e,t){if(1&e&&(c.Sb(0,"div",43),c.Lc(1,Ce,2,0,"div",65),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.nc("ngIf",e.receivePaymentForm.get("referenceNo").errors.required)}}function Ee(e,t){if(1&e&&(c.Sb(0,"div",39),c.Sb(1,"label",82),c.Nc(2," Reference No / Cheque No* "),c.Rb(),c.Nb(3,"input",83),c.Lc(4,ke,2,1,"div",42),c.Rb()),2&e){const e=c.gc(2);c.Ab(4),c.nc("ngIf",e.receivePaymentFormSubmitted&&!e.receivePaymentForm.get("referenceNo").valid||!e.receivePaymentForm.get("referenceNo").valid&&e.receivePaymentForm.get("referenceNo").touched)}}function Oe(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function Ge(e,t){if(1&e&&(c.Sb(0,"div",43),c.Lc(1,Oe,2,0,"div",65),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.nc("ngIf",e.receivePaymentForm.get("bankName").errors.required)}}function Ue(e,t){if(1&e&&(c.Sb(0,"div",39),c.Sb(1,"label",84),c.Nc(2," Bank Name* "),c.Rb(),c.Nb(3,"input",85),c.Lc(4,Ge,2,1,"div",42),c.Rb()),2&e){const e=c.gc(2);c.Ab(4),c.nc("ngIf",e.receivePaymentFormSubmitted&&!e.receivePaymentForm.get("bankName").valid||!e.receivePaymentForm.get("bankName").valid&&e.receivePaymentForm.get("bankName").touched)}}function He(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function _e(e,t){if(1&e&&(c.Sb(0,"div",43),c.Lc(1,He,2,0,"div",65),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.receivePaymentForm.get("description").errors.required)}}function ze(e,t){if(1&e){const e=c.Tb();c.Sb(0,"form",38),c.dc("ngSubmit",(function(){return c.Bc(e),c.gc().onSubmitPayment()})),c.Sb(1,"div",39),c.Sb(2,"label",77),c.Nc(3,"Amount* "),c.Rb(),c.Nb(4,"input",78),c.Lc(5,Pe,2,1,"div",42),c.Rb(),c.Sb(6,"div",39),c.Sb(7,"label",40),c.Nc(8,"Select Payment Type* "),c.Rb(),c.Nb(9,"p-dropdown",79),c.Lc(10,Le,2,1,"div",42),c.Rb(),c.Lc(11,Ee,5,1,"div",80),c.Lc(12,Ue,5,1,"div",80),c.Sb(13,"div",39),c.Sb(14,"label",40),c.Nc(15,"Description* "),c.Rb(),c.Nb(16,"textarea",81),c.Lc(17,_e,2,1,"div",42),c.Rb(),c.Rb()}if(2&e){const e=c.gc();c.nc("formGroup",e.receivePaymentForm),c.Ab(5),c.nc("ngIf",e.receivePaymentFormSubmitted&&!e.receivePaymentForm.get("amount").valid||!e.receivePaymentForm.get("amount").valid&&e.receivePaymentForm.get("amount").touched),c.Ab(4),c.nc("options",e.paymentType)("showClear",!0),c.Ab(1),c.nc("ngIf",e.receivePaymentFormSubmitted&&!e.receivePaymentForm.get("payType").valid||!e.receivePaymentForm.get("payType").valid&&e.receivePaymentForm.get("payType").touched),c.Ab(1),c.nc("ngIf","Cheque"===e.receivePaymentForm.get("payType").value||"Online"===e.receivePaymentForm.get("payType").value),c.Ab(1),c.nc("ngIf","Cheque"===e.receivePaymentForm.get("payType").value||"Online"===e.receivePaymentForm.get("payType").value),c.Ab(5),c.nc("ngIf",e.receivePaymentFormSubmitted&&!e.receivePaymentForm.get("description").valid||!e.receivePaymentForm.get("description").valid&&e.receivePaymentForm.get("description").touched)}}function Ve(e,t){if(1&e){const e=c.Tb();c.Sb(0,"button",44),c.dc("click",(function(){return c.Bc(e),c.gc().hidePaymentDialog()})),c.Rb(),c.Sb(1,"button",45),c.dc("click",(function(){c.Bc(e);const t=c.gc();return t.onSubmitPayment(t.receivePaymentForm)})),c.Rb()}}const We=function(){return{width:"450px"}},Ke=function(){return{width:"650px"}};let Je=(()=>{class e{constructor(e,t,n,i,a,r){this.dashboardService=e,this.errorService=t,this._formBuilder=n,this.angularFireDatabase=i,this.notificationService=a,this.adminService=r,this.billGeneratedUsers=[],this.lstofUser=[],this.lstOfFees=[],this.flatNo="",this.receiptGenerated=!1,this.count=0,this.tenatDialog=!1,this.waterBillDialog=!1,this.TransferDialog=!1,this.maintenanceDialog=!1,this.generateMaintenanceDialog=!1,this.generateMaintenanceBillDialog=!1,this.tenatFormSubmitted=!1,this.maintenanceFormSubmitted=!1,this.waterBillFormSubmitted=!1,this.TransferFormSubmitted=!1,this.generateMaintenanceFormSubmitted=!1,this.receivePaymentFormSubmitted=!1,this.totalRecords=0,this.size=y.a.MASTER_TABLE_ROW_SIZE,this.rowsPerPageOptions=y.a.MASTER_TABLE_PAGINATE_DROPDOWN,this.remainingAmount=0,this.totalPendingAmount=0,this.monthList=[{label:"January",value:"January"},{label:"February",value:"February"},{label:"March",value:"March"},{label:"April",value:"April"},{label:"May",value:"May"},{label:"June",value:"June"},{label:"July",value:"July"},{label:"August",value:"August"},{label:"September",value:"September"},{label:"October",value:"October"},{label:"November",value:"November"},{label:"December",value:"December"}],this.cols=[{header:"Name"},{header:"Pending Amount"},{header:"Action"}],this.generatedMintenanceColumns=[{label:"Description"},{label:"Amount/Unit"}],this.paymentType=[{label:"Cheque"},{label:"Cash"},{label:"Online"}],this.maintainenceType=[{label:"Tenant",value:"MAINTENANCE_AMOUNT_TENANT"},{label:"Own",value:"MAINTENANCE_AMOUNT"}],this.flatType=[{label:"2-BHK",value:"TRANSFER_2_BHK"},{label:"3-BHK",value:"TRANSFER_3_BHK"}],this.receivePaymentDialog=!1,this.incomeData=[],this.expenseData=[],this.otherPayment=[]}ngOnInit(){new Date,this.getSampleData(),this.getMaintenanceAmountData(),this.getFessMasterData(),this.initializeMaintenanceForm(),this.initializeTenatForm(),this.initializeWaterBillForm(),this.initializeGenerateMaintenanceForm(),this.initializeTransferForm(),this.getIncome()}addTenatFees(){this.waterMaintenanceBillMaster=new F,this.tenatDialog=!0,this.popupHeader="Add Tenat Fees",this.initializeTenatForm()}hidetenatDialog(){this.waterMaintenanceBillMaster=new F,this.tenatDialog=!1,this.getFessMasterData(),this.initializeTenatForm()}initializeTenatForm(){var e;this.tenatForm=this._formBuilder.group({id:"TENAT2022",type:["TENAT",[a.q.required]],amount:[(null===(e=this.feesMasterData)||void 0===e?void 0:e.TENAT2022.amount)?this.feesMasterData.TENAT2022.amount:0,[a.q.required]],createdDate:(new Date).getTime(),updatedDate:(new Date).getTime(),createdBy:"Admin"})}addMaintenanceFees(){this.waterMaintenanceBillMaster=new F,this.maintenanceDialog=!0,this.popupHeader="Add Maintenance Fees",this.initializeMaintenanceForm()}hidemaintenanceDialog(){this.waterMaintenanceBillMaster=new F,this.maintenanceDialog=!1,this.getFessMasterData(),this.initializeMaintenanceForm()}initializeMaintenanceForm(){this.maintenanceForm=this._formBuilder.group({id:"",type:["",[a.q.required]],amount:["",[a.q.required]],createdDate:(new Date).getTime(),updatedDate:(new Date).getTime(),createdBy:"Admin"}),this.maintenanceForm.get("type").valueChanges.subscribe(e=>{var t,n;"Tenant"===e?this.maintenanceForm.controls.amount.setValue(null===(t=this.feesMasterData)||void 0===t?void 0:t.MAINTENANCE_AMOUNT_TENANT.amount):"Own"===e&&this.maintenanceForm.controls.amount.setValue(null===(n=this.feesMasterData)||void 0===n?void 0:n.MAINTENANCE_AMOUNT.amount)})}addWaterBillFees(){this.waterMaintenanceBillMaster=new F,this.waterBillDialog=!0,this.popupHeader="Add WaterBill Fees",this.initializeWaterBillForm()}hideWaterBillDialog(){this.waterMaintenanceBillMaster=new F,this.waterBillDialog=!1,this.getFessMasterData(),this.initializeWaterBillForm()}initializeWaterBillForm(){var e,t;this.waterBillForm=this._formBuilder.group({id:"WATER_BILL",type:["WATER_BILL",[a.q.required]],amount:[(null===(e=this.feesMasterData)||void 0===e?void 0:e.WATER_BILL.amount)?null===(t=this.feesMasterData)||void 0===t?void 0:t.WATER_BILL.amount:0,[a.q.required]],createdDate:(new Date).getTime(),updatedDate:(new Date).getTime(),createdBy:"Admin"})}addTransferFees(){this.waterMaintenanceBillMaster=new F,this.TransferDialog=!0,this.popupHeader="Add Transfer Fees",this.initializeTransferForm()}hideTransferDialog(){this.waterMaintenanceBillMaster=new F,this.TransferDialog=!1,this.getFessMasterData(),this.initializeTransferForm()}initializeTransferForm(){this.TransferForm=this._formBuilder.group({id:"",type:["",[a.q.required]],amount:["",[a.q.required]],createdDate:(new Date).getTime(),updatedDate:(new Date).getTime(),createdBy:"Admin"}),this.TransferForm.get("type").valueChanges.subscribe(e=>{var t,n;"TRANSFER_2_BHK"===e?this.TransferForm.controls.amount.setValue(null===(t=this.feesMasterData)||void 0===t?void 0:t.TRANSFER_2_BHK.amount):"TRANSFER_3_BHK"===e&&this.TransferForm.controls.amount.setValue(null===(n=this.feesMasterData)||void 0===n?void 0:n.TRANSFER_3_BHK.amount)})}generateMaintenance(e,t,n){this.generateMaintenanceDialog=!0,this.generateMaintenanceFormSubmitted=!1,this.flatNo=e,this.popupHeader="Generate Maintence for "+e,this.getUserMaster(e),this.initializeGenerateMaintenanceForm(),this.generateMaintenanceForm.controls.previousPendingAmount.setValue(t),this.generateMaintenanceForm.controls.previousReading.setValue(n)}hideGenerateMaintenanceDialog(){this.generateMaintenanceFormSubmitted=!1,this.generateMaintenanceDialog=!1,this.initializeGenerateMaintenanceForm()}opengenerateMaintenanceBillDialog(e){this.generateMaintenanceBillDialog=!0,this.initializeGenerateMaintenanceForm()}hideGenerateMaintenanceBillDialog(){this.flatNo="",this.generateMaintenanceBillDialog=!1}initializeGenerateMaintenanceForm(){var e;this.generateMaintenanceForm=this._formBuilder.group({id:"",maintenanceAmount:["",[a.q.required]],waterAmount:[null===(e=this.feesMasterData)||void 0===e?void 0:e.WATER_BILL.amount,[a.q.required]],amount:[""],amountReceived:[""],usedUnit:["",[a.q.required]],previousReading:["",[a.q.required]],currentReading:["",[a.q.required]],maintenancePaid:[!1,[a.q.required]],averageReading:[""],payType:["Debit"],userMasterId:[this.flatNo],createdBy:"Admin",createdDate:(new Date).getTime(),updatedDate:"",maintainenceType:["",[a.q.required]],month:["",[a.q.required]],otherAmount:[""],otherDescription:[""],previousPendingAmount:[]}),this.generateMaintenanceForm.get("maintainenceType").valueChanges.subscribe(e=>{var t,n;"Tenant"===e?this.generateMaintenanceForm.controls.maintenanceAmount.setValue(null===(t=this.feesMasterData)||void 0===t?void 0:t.MAINTENANCE_AMOUNT_TENANT.amount):"Own"===e&&this.generateMaintenanceForm.controls.maintenanceAmount.setValue(null===(n=this.feesMasterData)||void 0===n?void 0:n.MAINTENANCE_AMOUNT.amount)}),this.generateMaintenanceForm.get("currentReading").valueChanges.subscribe(e=>{this.generateMaintenanceForm.controls.usedUnit.setValue(Number(e)-Number(this.generateMaintenanceForm.get("previousReading").value))})}getSampleData(){this.dashboardService.dashboardGet().subscribe(e=>{this.users=[],this.lstofUser=[],this.users=Object.keys(e).map(t=>({type:t,value:e[t]})),this.users.forEach(e=>{"Admin"!==e.value.user_name&&"dummy"!==e.value.user_name&&(this.lstofUser.push(e.value),this.totalPendingAmount=Number(this.totalPendingAmount)+Number(e.value.amount))}),this.totalRecords=this.users.length,"200"===e.statusCode&&"OK"===e.message&&this.errorService.userNotification(e.statusCode,"Get Data")},e=>{console.error(e)})}getMaintenanceAmountData(){this.dashboardService.getMaintenanceAmountData().subscribe(e=>{this.billGeneratedUsers=[],this.maintenanceData=[],this.listOfMaintenanceData=[],this.maintenanceData=Object.keys(e).map(t=>({type:t,value:e[t]})),this.maintenanceData.forEach(e=>{const t=new Date,n=new Date(t.getFullYear(),t.getMonth()),i=new Date(t.getFullYear(),t.getMonth()+1,0);e.value.createdDate>n&&e.value.createdDate<i&&this.billGeneratedUsers.push(e.value.userMasterId),this.listOfMaintenanceData.push(e.value)}),"200"===e.statusCode&&"OK"===e.message&&this.errorService.userNotification(e.statusCode,"Get Data")},e=>{console.error(e)})}isIdExist(e){return!this.billGeneratedUsers.includes(e.id)}getFessMasterData(){this.dashboardService.getFeesData().subscribe(e=>{this.feesMasterData=e,"200"===e.statusCode&&"OK"===e.message&&this.errorService.userNotification(e.statusCode,"Get Data")},e=>{console.error(e)})}onSubmitTenatForm(){if(this.tenatFormSubmitted=!0,!this.tenatForm.valid){let e;for(e in this.tenatForm.controls)this.tenatForm.controls[e].markAsDirty(),this.tenatForm.controls[e].updateValueAndValidity();return!1}this.waterMaintenanceBillMaster=this.tenatForm.value,this.angularFireDatabase.database.ref("feesmaster").child(this.waterMaintenanceBillMaster.id).set(this.waterMaintenanceBillMaster).finally(this.hidetenatDialog()),this.tenatFormSubmitted=!1}onSubmitMaintenanceForm(){if(this.maintenanceFormSubmitted=!0,!this.maintenanceForm.valid){let e;for(e in this.maintenanceForm.controls)this.maintenanceForm.controls[e].markAsDirty(),this.maintenanceForm.controls[e].updateValueAndValidity();return!1}this.waterMaintenanceBillMaster=this.maintenanceForm.value,this.waterMaintenanceBillMaster.id=this.waterMaintenanceBillMaster.type,this.angularFireDatabase.database.ref("feesmaster").child(this.waterMaintenanceBillMaster.id).set(this.waterMaintenanceBillMaster).finally(this.hidemaintenanceDialog()),this.maintenanceFormSubmitted=!1}onSubmitTransferFeesForm(){if(this.TransferFormSubmitted=!0,!this.TransferForm.valid){let e;for(e in this.TransferForm.controls)this.TransferForm.controls[e].markAsDirty(),this.TransferForm.controls[e].updateValueAndValidity();return!1}this.waterMaintenanceBillMaster=this.TransferForm.value,this.waterMaintenanceBillMaster.id=this.waterMaintenanceBillMaster.type,this.angularFireDatabase.database.ref("feesmaster").child(this.waterMaintenanceBillMaster.id).set(this.waterMaintenanceBillMaster).finally(this.hideTransferDialog()),this.TransferFormSubmitted=!1}onSubmitWaterBillForm(){if(this.waterBillFormSubmitted=!0,!this.waterBillForm.valid){let e;for(e in this.waterBillForm.controls)this.waterBillForm.controls[e].markAsDirty(),this.waterBillForm.controls[e].updateValueAndValidity();return!1}this.waterMaintenanceBillMaster=this.waterBillForm.value,this.angularFireDatabase.database.ref("feesmaster").child(this.waterMaintenanceBillMaster.id).set(this.waterMaintenanceBillMaster).finally(this.hideWaterBillDialog()),this.waterBillFormSubmitted=!1}GenerateMaintenanceBill(e){if(!this.generateMaintenanceForm.valid){let t;for(t in this.generateMaintenanceForm.controls)this.generateMaintenanceForm.controls[t].markAsDirty(),this.generateMaintenanceForm.controls[t].updateValueAndValidity();return this.generateMaintenanceFormSubmitted=!0,this.maintenanceBillMaster=e.value,!1}let t;this.receiptGenerated=!0,this.maintenanceBillMaster=e.value,this.maintenanceBillMaster.currentReading&&this.maintenanceBillMaster.previousReading&&this.maintenanceBillMaster.currentReading>0&&this.maintenanceBillMaster.previousReading>0&&!this.maintenanceBillMaster.averageReading?t=(this.maintenanceBillMaster.currentReading-this.maintenanceBillMaster.previousReading)*this.maintenanceBillMaster.waterAmount:this.maintenanceBillMaster.averageReading&&(t=this.maintenanceBillMaster.averageReading);let n=Number(t);n+=Number(this.maintenanceBillMaster.maintenanceAmount),n+=Number(this.maintenanceBillMaster.otherAmount),this.maintenanceBillMaster.amount=n,this.remainingAmount=n,this.receiptDetail=e.value,this.dashboardService.generatedMaintenanceBillPost(this.maintenanceBillMaster).subscribe(e=>{this.onSubmitUserMasterAmountUpdate(this.maintenanceBillMaster),this.getMaintenanceAmountData(),"200"===e.statusCode&&"OK"===e.message&&this.errorService.userNotification(e.statusCode,"Post Data")},e=>{console.error(e)})}getUserMaster(e){this.dashboardService.getUser(e).valueChanges().subscribe(e=>{e?this.userMasterDto=e:this.notificationService.error("Something Error","")},e=>{console.error(e)})}onSubmitUserMasterAmountUpdate(e){this.userMasterDto.previousReading=e.currentReading,this.userMasterDto.amount=this.userMasterDto.amount+this.remainingAmount,this.userMasterDto.updatedDate=(new Date).getTime(),this.angularFireDatabase.database.ref("user").child(this.userMasterDto.user_name).set(this.userMasterDto).finally(()=>(this.clearAll(),!0)).catch(e=>{this.notificationService.error(e,"")})}clearAll(){return this.userMasterDto=null,this.maintenanceBillMaster=null,this.remainingAmount=null,this.generateMaintenanceBillDialog=null,this.hideGenerateMaintenanceDialog(),this.getSampleData(),!0}exportPdf(){const e=document.getElementById("htmlData");A()(e).then(e=>{const t=208*e.height/e.width,n=e.toDataURL("image/png"),i=new M.a("p","mm","a4");i.addImage(n,"PNG",0,0,208,t),i.save("maintenance-receipt.pdf")})}showReceivePaymentDialog(e){this.popupHeader="Receive Payment For "+e,this.receivePaymentDialog=!0,this.initializeReceivePaymentForm(e)}initializeReceivePaymentForm(e){this.receivePaymentForm=this._formBuilder.group({id:[],createdDate:new Date,updatedDate:new Date,userMasterId:e,amountType:"Credit",payTo:[""],payType:["",[a.q.required]],reading:"",amount:["",[a.q.required]],description:["",[a.q.required]],bankName:["",[a.q.required]],referenceNo:["",[a.q.required]],otherPayment:!0}),this.receivePaymentForm.get("payType").valueChanges.subscribe(e=>{"Cheque"===e||"Online"===e?(this.receivePaymentForm.addControl("referenceNo",new a.c("",[a.q.required])),this.receivePaymentForm.addControl("bankName",new a.c("",[a.q.required]))):"Cash"===e&&(this.receivePaymentForm.removeControl("referenceNo"),this.receivePaymentForm.removeControl("bankName"))})}getUserMasterForReceivePayment(e,t){this.dashboardService.getUser(e).valueChanges().subscribe(e=>{if(e){if(this.count=this.count+1,1===this.count)return this.userMasterDto=e,this.initializeReceivePaymentForm(t),!1}else this.notificationService.error("Something Error","")},e=>{console.error(e)})}onSubmitPayment(){if(!this.receivePaymentForm.valid){let e;for(e in this.receivePaymentForm.controls)this.receivePaymentForm.controls[e].markAsDirty(),this.receivePaymentForm.controls[e].updateValueAndValidity();return this.receivePaymentFormSubmitted=!0,!1}this.receivePaymentForm.value.id=this.otherPayment.length+1,this.adminService.addIncome(this.receivePaymentForm.value).subscribe(e=>{this.hidePaymentDialog()},e=>{console.error(e)})}hidePaymentDialog(){this.receivePaymentDialog=!1,this.initializeReceivePaymentForm()}getIncome(){this.adminService.getIncomeAndExpenses(this.queryParam).subscribe(e=>{e&&(this.amountData=Object.keys(e).map(t=>({type:t,value:e[t]})),this.amountData.forEach(e=>{var t;"Credit"===e.value.amountType&&(null===(t=e.value)||void 0===t?void 0:t.otherPayment)&&this.otherPayment.push(e.value)}),"200"===e.statusCode&&"OK"===e.message&&this.errorService.userNotification(e.statusCode,"Get Data"))})}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(D.a),c.Mb(u.a),c.Mb(a.b),c.Mb(T.a),c.Mb(d.a),c.Mb(B.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-dashboard"]],decls:105,vars:83,consts:[[1,"align-self-center","main-nav","bg-primary","text-dark"],[1,"pt-3","px-4"],[1,"row"],[1,"col-6"],[1,"float-right"],[1,"container-fluid","my-3"],[1,"col-lg-2"],[1,"col-lg-8","col-sm-12","col-md-12"],["styleClass","p-datatable-gridlines","scrollHeight","400px","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records",1,"mx-3",3,"scrollable","value","paginator","rows","totalRecords","showCurrentPageReport","rowsPerPageOptions"],["dt",""],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],[1,"table","table-striped"],["scope","col"],["scope","row"],["pTooltip","Change Tenant Fees",1,"p-button","bg-dark","rounded",2,"font-size","15px","padding","10px",3,"click"],[1,"pi","pi-pencil",2,"font-size","15px"],["pTooltip","Change Maintainence Amount",1,"p-button","bg-dark","rounded",2,"font-size","15px","padding","10px",3,"click"],["pTooltip","Change Water Unit Amount",1,"p-button","bg-dark","rounded",2,"font-size","15px","padding","10px",3,"click"],["pTooltip","Change Transfer Fees",1,"p-button","bg-dark","rounded",2,"font-size","15px","padding","10px",3,"click"],["styleClass","p-fluid",3,"visible","header","modal","visibleChange","onHide"],["pTemplate","content"],["pTemplate","footer"],["styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],["style","width: 150px;",4,"ngFor","ngForOf"],[2,"width","150px"],[4,"ngFor","ngForOf"],[4,"ngIf","ngIfElse"],["amountPaid",""],["pTooltip","Generate Maintenance",1,"p-button","bg-dark","rounded",2,"font-size","15px","padding","10px",3,"click"],[1,"pi","pi-upload",2,"font-size","15px"],["pTooltip","Receive Payment",1,"p-button","bg-dark","rounded",2,"font-size","15px","padding","10px",3,"click"],[1,"fa","fa-money",2,"font-size","15px"],[2,"color","red"],[2,"color","green"],[1,"text-center"],[3,"formGroup","ngSubmit"],[1,"p-field"],["for","name"],["type","text","pInputText","","id","regionName","formControlName","amount","placeholder","Enter Amount","required","","autofocus","","pKeyFilter","num","maxLength","50"],["class","p-invalid",4,"ngIf"],[1,"p-invalid"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"bg-primary","text-dark",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"bg-dark",3,"click"],["formControlName","type","placeholder","Select maintenance Type","optionValue","value",3,"options","showClear"],["formControlName","type","placeholder","Select Flat Type",3,"options"],["formControlName","maintainenceType","optionValue","label","placeholder","Select Maintainence type",3,"options","showClear"],["formControlName","month","optionValue","label","placeholder","Select Month",3,"options","showClear"],["for","maintenanceAmount"],["type","text","disabled","","pInputText","","id","maintenanceAmount","formControlName","maintenanceAmount","placeholder","Enter Maintenance Amount","required","","autofocus","","pKeyFilter","num","maxLength","50"],["for","waterAmount"],["type","text","disabled","","pInputText","","id","waterAmount","formControlName","waterAmount","placeholder","Enter Water Amount","required","","autofocus","","pKeyFilter","num","maxLength","50"],["for","currentReading"],["type","text","pInputText","","id","currentReading","formControlName","currentReading","placeholder","Enter Current Reading","required","","autofocus","","pKeyFilter","num","maxLength","50"],["for","previousReading"],["type","text","pInputText","","id","previousReading","formControlName","previousReading","placeholder","Enter Previous Reading","required","","autofocus","","pKeyFilter","num","maxLength","50"],["for","usedUnit"],["type","text","pInputText","","id","usedUnit","formControlName","usedUnit","placeholder","Enter Used Unit","required","","autofocus","","pKeyFilter","num","maxLength","50","disabled",""],["for","averageReading"],["type","text","pInputText","","id","averageReading","formControlName","averageReading","placeholder","Enter Average Water bill","autofocus","","pKeyFilter","num","maxLength","50"],["for","otherAmount"],["type","text","pInputText","","id","otherAmount","formControlName","otherAmount","placeholder","Enter Other Amount","autofocus","","pKeyFilter","num","maxLength","50"],["type","text","pInputText","","id","otherDescription","formControlName","otherDescription","placeholder","Enter Other Description","autofocus",""],[4,"ngIf"],["id","htmlData",4,"ngIf"],["id","htmlData"],[1,"table"],[1,"thead-light"],["scope","col","colspan","3",1,"align-center","text-center",2,"font-size","2rem"],["scope","col","colspan","3",1,"text-center"],[1,"pi","pi-envelope"],["scope","col","colspan","3"],[1,"text-wrap","text-break"],["type","button","pButton","","pRipple","","pTooltip","Download PDF","tooltipPosition","bottom",1,"bg-dark",3,"click"],[1,"pi","pi-download",2,"font-size","15px"],["for","amount"],["type","text","pInputText","","id","amount","formControlName","amount","placeholder","Enter Amount","required","","autofocus","","pKeyFilter","num","maxLength","50"],["formControlName","payType","optionValue","label","placeholder","Select payment type",3,"options","showClear"],["class","p-field",4,"ngIf"],["pInputText","","formControlName","description","maxlength","500","name","description","id","","cols","200","rows","4","placeholder","Enter Description",1,"w-100"],["for","referenceNo"],["type","text","pInputText","","id","referenceNo","formControlName","referenceNo","placeholder","Enter referenceNo","required","","autofocus","","maxLength","50"],["for","bankName"],["type","text","pInputText","","id","bankName","formControlName","bankName","placeholder","Enter bankName","required","","autofocus","","maxLength","50"]],template:function(e,t){1&e&&(c.Sb(0,"nav",0),c.Sb(1,"div",1),c.Sb(2,"div",2),c.Sb(3,"div",3),c.Sb(4,"b"),c.Sb(5,"h2"),c.Nc(6," Dashboard "),c.Rb(),c.Rb(),c.Rb(),c.Sb(7,"div",3),c.Sb(8,"span",4),c.Sb(9,"b"),c.Sb(10,"h2"),c.Nc(11),c.hc(12,"currency"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(13,"div",5),c.Sb(14,"div",2),c.Nb(15,"div",6),c.Sb(16,"div",7),c.Sb(17,"p-table",8,9),c.Lc(19,E,2,1,"ng-template",10),c.Lc(20,G,2,1,"ng-template",11),c.Lc(21,_,13,3,"ng-template",12),c.Lc(22,z,3,1,"ng-template",13),c.Rb(),c.Rb(),c.Nb(23,"div",6),c.Nb(24,"br"),c.Nb(25,"div",6),c.Sb(26,"div",7),c.Sb(27,"table",14),c.Sb(28,"thead"),c.Sb(29,"tr"),c.Sb(30,"th",15),c.Nc(31,"Label"),c.Rb(),c.Sb(32,"th",15),c.Nc(33,"Amount"),c.Rb(),c.Sb(34,"th",15),c.Nc(35,"Action"),c.Rb(),c.Rb(),c.Rb(),c.Sb(36,"tbody"),c.Sb(37,"tr"),c.Sb(38,"th",16),c.Nc(39,"Tenant Fees"),c.Rb(),c.Sb(40,"td"),c.Nc(41),c.hc(42,"currency"),c.Rb(),c.Sb(43,"td"),c.Sb(44,"button",17),c.dc("click",(function(){return t.addTenatFees()})),c.Nb(45,"i",18),c.Rb(),c.Rb(),c.Rb(),c.Sb(46,"tr"),c.Sb(47,"th",16),c.Nc(48," Maintenance "),c.Nb(49,"br"),c.Nc(50," Maintenance Tenant "),c.Rb(),c.Sb(51,"td"),c.Nc(52),c.hc(53,"currency"),c.Nb(54,"br"),c.Nc(55),c.hc(56,"currency"),c.Rb(),c.Sb(57,"td"),c.Sb(58,"button",19),c.dc("click",(function(){return t.addMaintenanceFees()})),c.Nb(59,"i",18),c.Rb(),c.Rb(),c.Rb(),c.Sb(60,"tr"),c.Sb(61,"th",16),c.Nc(62,"Water Bill Per Unit"),c.Rb(),c.Sb(63,"td"),c.Nc(64),c.hc(65,"currency"),c.Rb(),c.Sb(66,"td"),c.Sb(67,"button",20),c.dc("click",(function(){return t.addWaterBillFees()})),c.Nb(68,"i",18),c.Rb(),c.Rb(),c.Rb(),c.Sb(69,"tr"),c.Sb(70,"th",16),c.Nc(71,"Transfer Fees For 2-BHK "),c.Nb(72,"br"),c.Nc(73," Transfer Fees For 3-BHK "),c.Rb(),c.Sb(74,"td"),c.Nc(75),c.hc(76,"currency"),c.Nb(77,"br"),c.Nc(78),c.hc(79,"currency"),c.Rb(),c.Sb(80,"td"),c.Sb(81,"button",21),c.dc("click",(function(){return t.addTransferFees()})),c.Nb(82,"i",18),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Nb(83,"div",6),c.Rb(),c.Rb(),c.Sb(84,"p-dialog",22),c.dc("visibleChange",(function(e){return t.waterBillDialog=e}))("onHide",(function(){return t.hideWaterBillDialog()})),c.Lc(85,W,6,2,"ng-template",23),c.Lc(86,K,2,0,"ng-template",24),c.Rb(),c.Sb(87,"p-dialog",22),c.dc("visibleChange",(function(e){return t.tenatDialog=e}))("onHide",(function(){return t.hidetenatDialog()})),c.Lc(88,$,6,2,"ng-template",23),c.Lc(89,j,2,0,"ng-template",24),c.Rb(),c.Sb(90,"p-dialog",22),c.dc("visibleChange",(function(e){return t.maintenanceDialog=e}))("onHide",(function(){return t.hidemaintenanceDialog()})),c.Lc(91,Z,11,5,"ng-template",23),c.Lc(92,X,2,0,"ng-template",24),c.Rb(),c.Sb(93,"p-dialog",22),c.dc("visibleChange",(function(e){return t.TransferDialog=e}))("onHide",(function(){return t.hideTransferDialog()})),c.Lc(94,ne,11,4,"ng-template",23),c.Lc(95,ie,2,0,"ng-template",24),c.Rb(),c.Sb(96,"p-dialog",22),c.dc("visibleChange",(function(e){return t.generateMaintenanceDialog=e}))("onHide",(function(){return t.hideGenerateMaintenanceDialog()})),c.Lc(97,Se,49,13,"ng-template",23),c.Lc(98,Ne,2,0,"ng-template",24),c.Rb(),c.Sb(99,"p-dialog",25),c.dc("visibleChange",(function(e){return t.generateMaintenanceBillDialog=e}))("onHide",(function(){return t.hideGenerateMaintenanceBillDialog()})),c.Lc(100,we,1,1,"ng-template",23),c.Lc(101,xe,2,0,"ng-template",24),c.Rb(),c.Sb(102,"p-dialog",22),c.dc("visibleChange",(function(e){return t.receivePaymentDialog=e}))("onHide",(function(){return t.hidePaymentDialog()})),c.Lc(103,ze,18,8,"ng-template",23),c.Lc(104,Ve,2,0,"ng-template",24),c.Rb()),2&e&&(c.Ab(11),c.Pc(" Total pending amount: ",c.kc(12,48,t.totalPendingAmount,"INR","symbol")," "),c.Ab(6),c.nc("scrollable",!0)("value",t.lstofUser)("paginator",!0)("rows",t.size)("totalRecords",t.totalRecords)("showCurrentPageReport",!0)("rowsPerPageOptions",t.rowsPerPageOptions),c.Ab(24),c.Oc(c.kc(42,52,null==t.feesMasterData?null:t.feesMasterData.TENAT2022.amount,"INR","symbol")),c.Ab(11),c.Pc("",c.kc(53,56,null==t.feesMasterData?null:t.feesMasterData.MAINTENANCE_AMOUNT.amount,"INR","symbol")," "),c.Ab(3),c.Pc(" ",c.kc(56,60,null==t.feesMasterData?null:t.feesMasterData.MAINTENANCE_AMOUNT_TENANT.amount,"INR","symbol")," "),c.Ab(9),c.Oc(c.kc(65,64,null==t.feesMasterData?null:t.feesMasterData.WATER_BILL.amount,"INR","symbol")),c.Ab(11),c.Pc("",c.kc(76,68,null==t.feesMasterData?null:t.feesMasterData.TRANSFER_2_BHK.amount,"INR","symbol")," "),c.Ab(3),c.Pc(" ",c.kc(79,72,null==t.feesMasterData?null:t.feesMasterData.TRANSFER_3_BHK.amount,"INR","symbol")," "),c.Ab(6),c.Hc(c.qc(76,We)),c.oc("header",t.popupHeader),c.nc("visible",t.waterBillDialog)("modal",!0),c.Ab(3),c.Hc(c.qc(77,We)),c.oc("header",t.popupHeader),c.nc("visible",t.tenatDialog)("modal",!0),c.Ab(3),c.Hc(c.qc(78,We)),c.oc("header",t.popupHeader),c.nc("visible",t.maintenanceDialog)("modal",!0),c.Ab(3),c.Hc(c.qc(79,We)),c.oc("header",t.popupHeader),c.nc("visible",t.TransferDialog)("modal",!0),c.Ab(3),c.Hc(c.qc(80,We)),c.oc("header",t.popupHeader),c.nc("visible",t.generateMaintenanceDialog)("modal",!0),c.Ab(3),c.Hc(c.qc(81,Ke)),c.nc("visible",t.generateMaintenanceBillDialog)("modal",!0),c.Ab(3),c.Hc(c.qc(82,We)),c.oc("header",t.popupHeader),c.nc("visible",t.receivePaymentDialog)("modal",!0))},directives:[w.b,x.h,I.a,P.a,i.l,i.m,a.s,a.l,a.e,a.a,p.a,a.k,a.d,a.p,g.a,q.a,L.a,C.a,a.g],pipes:[i.c],styles:[""]}),e})(),$e=(()=>{class e{transform(e,...t){if(e){let t=(e=parseFloat(e).toFixed(2)).toString().split("."),p=t[0],g=t.length>0?t[1]:null;var n=["Zero","One","Two","Three","Four","Five","Six","Seven","Eight","Nine"],i=["Ten","Eleven","Twelve","Thirteen","Fourteen","Fifteen","Sixteen","Seventeen","Eighteen","Nineteen"],a=["","Ten","Twenty","Thirty","Forty","Fifty","Sixty","Seventy","Eighty","Ninety"],r=function(e,t){return 0==e?"":" "+(1==e?i[t]:a[e])},o=function(e,t,i){return(0!=e&&1!=t?" "+n[e]:"")+(0!=t||e>0?" "+i:"")},c="",l=0,s=0,b=0,u=[],d=[],m="";if(p+="",isNaN(parseFloat(p)))c="";else if(parseFloat(p)>0&&p.length<=10){for(l=p.length-1;l>=0;l--)switch(s=p[l]-0,b=l>0?p[l-1]-0:0,p.length-l-1){case 0:u.push(o(s,b,""));break;case 1:u.push(r(s,p[l+1]));break;case 2:u.push(0!=s?" "+n[s]+" Hundred"+(0!=p[l+1]&&0!=p[l+2]?" and":""):"");break;case 3:u.push(o(s,b,"Thousand"));break;case 4:u.push(r(s,p[l+1]));break;case 5:u.push(o(s,b,"Lakh"));break;case 6:u.push(r(s,p[l+1]));break;case 7:u.push(o(s,b,"Crore"));break;case 8:u.push(r(s,p[l+1]));break;case 9:u.push(0!=s?" "+n[s]+" Hundred"+(0!=p[l+1]||0!=p[l+2]?" and":" Crore"):"")}c=u.reverse().join("")}else c="";if(c&&(c+=" Rupees"),"00"!=g){for(l=0,s=0,b=0,l=g.length-1;l>=0;l--)switch(s=g[l]-0,b=l>0?g[l-1]-0:0,g.length-l-1){case 0:d.push(o(s,b,""));break;case 1:d.push(r(s,g[l+1]))}m=d.reverse().join(""),c=c?`${c} and ${m} Paisa`:m+" Paisa"}return c}}}return e.\u0275fac=function(t){return new(t||e)},e.\u0275pipe=c.Lb({name:"numberToWords",type:e,pure:!0}),e})();var je=n("9p4x"),Qe=n("dPl2");function Ye(e,t){1&e&&(c.Sb(0,"span"),c.Nc(1,"Expenses"),c.Rb())}function Ze(e,t){if(1&e&&(c.Sb(0,"th",27),c.Nc(1),c.Rb()),2&e){const e=t.$implicit;c.Ab(1),c.Pc(" ",e.header," ")}}function Xe(e,t){if(1&e&&(c.Sb(0,"tr"),c.Lc(1,Ze,2,1,"th",26),c.Rb()),2&e){const e=c.gc();c.Ab(1),c.nc("ngForOf",e.expenseCols)}}function et(e,t){if(1&e){const e=c.Tb();c.Sb(0,"tr"),c.Sb(1,"td",24),c.Nc(2),c.Rb(),c.Sb(3,"td",24),c.Nc(4),c.hc(5,"currency"),c.Rb(),c.Sb(6,"td",24),c.Nc(7),c.Rb(),c.Sb(8,"td",24),c.Nc(9),c.Rb(),c.Sb(10,"td",24),c.Sb(11,"button",28),c.dc("click",(function(){c.Bc(e);const n=t.$implicit;return c.gc().viewVoucher(n)})),c.Nc(12," View Voucher "),c.Rb(),c.Rb(),c.Rb()}if(2&e){const e=t.$implicit;c.Ab(2),c.Pc(" ",e.payTo," "),c.Ab(2),c.Pc(" ",c.kc(5,4,e.amount,"INR","symbol")," "),c.Ab(3),c.Pc(" ",e.payType," "),c.Ab(2),c.Pc(" ",e.description," ")}}function tt(e,t){1&e&&(c.Sb(0,"tr"),c.Sb(1,"td",29),c.Nc(2," No records found "),c.Rb(),c.Rb()),2&e&&(c.Ab(1),c.Bb("colspan",5))}function nt(e,t){1&e&&(c.Sb(0,"span"),c.Nc(1,"Income"),c.Rb())}function it(e,t){if(1&e&&(c.Sb(0,"th",27),c.Nc(1),c.Rb()),2&e){const e=t.$implicit;c.Ab(1),c.Pc(" ",e.header," ")}}function at(e,t){if(1&e&&(c.Sb(0,"tr"),c.Lc(1,it,2,1,"th",26),c.Rb()),2&e){const e=c.gc();c.Ab(1),c.nc("ngForOf",e.cols)}}function rt(e,t){if(1&e){const e=c.Tb();c.Sb(0,"div"),c.Sb(1,"button",31),c.dc("click",(function(){c.Bc(e);const t=c.gc().$implicit;return c.gc().showReceiptDialog(t)})),c.Nb(2,"i",32),c.Rb(),c.Rb()}}function ot(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," - "),c.Rb())}function ct(e,t){if(1&e&&(c.Sb(0,"tr"),c.Sb(1,"td",24),c.Nc(2),c.Rb(),c.Sb(3,"td",24),c.Nc(4),c.hc(5,"currency"),c.Rb(),c.Sb(6,"td",24),c.Nc(7),c.Rb(),c.Sb(8,"td",24),c.Nc(9),c.Rb(),c.Sb(10,"td"),c.Lc(11,rt,3,0,"div",30),c.Lc(12,ot,2,0,"div",30),c.Rb(),c.Rb()),2&e){const e=t.$implicit;c.Ab(2),c.Pc(" ",e.userMasterId," "),c.Ab(2),c.Pc(" ",c.kc(5,6,e.amount,"INR","symbol")," "),c.Ab(3),c.Pc(" ",e.payType," "),c.Ab(2),c.Pc(" ",e.description," "),c.Ab(2),c.nc("ngIf",null==e?null:e.otherPayment),c.Ab(1),c.nc("ngIf",!(null!=e&&e.otherPayment))}}function lt(e,t){1&e&&(c.Sb(0,"tr"),c.Sb(1,"td",29),c.Nc(2," No records found "),c.Rb(),c.Rb()),2&e&&(c.Ab(1),c.Bb("colspan",3))}function st(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function bt(e,t){if(1&e&&(c.Sb(0,"div",43),c.Lc(1,st,2,0,"div",30),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.expenseFormGroup.get("payTo").errors.required)}}function ut(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function dt(e,t){if(1&e&&(c.Sb(0,"div",43),c.Lc(1,ut,2,0,"div",30),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.expenseFormGroup.get("amount").errors.required)}}function mt(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function pt(e,t){if(1&e&&(c.Sb(0,"div",43),c.Lc(1,mt,2,0,"div",30),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.expenseFormGroup.get("payType").errors.required)}}function gt(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function ht(e,t){if(1&e&&(c.Sb(0,"div",43),c.Lc(1,gt,2,0,"div",30),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.nc("ngIf",e.expenseFormGroup.get("referenceNo").errors.required)}}function ft(e,t){if(1&e&&(c.Sb(0,"div",34),c.Sb(1,"label",44),c.Nc(2," Reference No / Cheque No* "),c.Rb(),c.Nb(3,"input",45),c.Lc(4,ht,2,1,"div",37),c.Rb()),2&e){const e=c.gc(2);c.Ab(4),c.nc("ngIf",e.submitted&&!e.expenseFormGroup.get("referenceNo").valid||!e.expenseFormGroup.get("referenceNo").valid&&e.expenseFormGroup.get("referenceNo").touched)}}function Rt(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function vt(e,t){if(1&e&&(c.Sb(0,"div",43),c.Lc(1,Rt,2,0,"div",30),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.nc("ngIf",e.expenseFormGroup.get("bankName").errors.required)}}function St(e,t){if(1&e&&(c.Sb(0,"div",34),c.Sb(1,"label",46),c.Nc(2," Bank Name* "),c.Rb(),c.Nb(3,"input",47),c.Lc(4,vt,2,1,"div",37),c.Rb()),2&e){const e=c.gc(2);c.Ab(4),c.nc("ngIf",e.expenseFormGroupSubmitted&&!e.expenseFormGroup.get("bankName").valid||!e.expenseFormGroup.get("bankName").valid&&e.expenseFormGroup.get("bankName").touched)}}function Nt(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function At(e,t){if(1&e&&(c.Sb(0,"div",43),c.Lc(1,Nt,2,0,"div",30),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.expenseFormGroup.get("description").errors.required)}}const Mt=function(){return{standalone:!0}};function yt(e,t){if(1&e){const e=c.Tb();c.Sb(0,"form",33),c.dc("ngSubmit",(function(){return c.Bc(e),c.gc().onSubmitExpense()})),c.Sb(1,"div",34),c.Sb(2,"label",35),c.Nc(3,"Pay to* "),c.Rb(),c.Nb(4,"input",36),c.Lc(5,bt,2,1,"div",37),c.Rb(),c.Sb(6,"div",34),c.Sb(7,"label",35),c.Nc(8,"Amount* "),c.Rb(),c.Nb(9,"input",38),c.Lc(10,dt,2,1,"div",37),c.Rb(),c.Sb(11,"div",34),c.Sb(12,"label",35),c.Nc(13,"Amount In Words "),c.Rb(),c.Sb(14,"input",39),c.dc("ngModelChange",(function(t){return c.Bc(e),c.gc().amountInWords=t})),c.Rb(),c.Rb(),c.Sb(15,"div",34),c.Sb(16,"label",35),c.Nc(17,"Paid Type* "),c.Rb(),c.Nb(18,"p-dropdown",40),c.Lc(19,pt,2,1,"div",37),c.Rb(),c.Lc(20,ft,5,1,"div",41),c.Lc(21,St,5,1,"div",41),c.Sb(22,"div",34),c.Sb(23,"label",35),c.Nc(24,"Description* "),c.Rb(),c.Nb(25,"textarea",42),c.Lc(26,At,2,1,"div",37),c.Rb(),c.Rb()}if(2&e){const e=c.gc();c.nc("formGroup",e.expenseFormGroup),c.Ab(5),c.nc("ngIf",e.submitted&&!e.expenseFormGroup.get("payTo").valid||!e.expenseFormGroup.get("payTo").valid&&e.expenseFormGroup.get("payTo").touched),c.Ab(5),c.nc("ngIf",e.submitted&&!e.expenseFormGroup.get("amount").valid||!e.expenseFormGroup.get("amount").valid&&e.expenseFormGroup.get("amount").touched),c.Ab(4),c.nc("ngModel",e.amountInWords)("ngModelOptions",c.qc(11,Mt)),c.Ab(4),c.nc("options",e.payTypeList)("showClear",!0),c.Ab(1),c.nc("ngIf",e.submitted&&!e.expenseFormGroup.get("payType").valid||!e.expenseFormGroup.get("payType").valid&&e.expenseFormGroup.get("payType").touched),c.Ab(1),c.nc("ngIf","Cheque"===e.expenseFormGroup.get("payType").value||"OverDraft"===e.expenseFormGroup.get("payType").value),c.Ab(1),c.nc("ngIf","Cheque"===e.expenseFormGroup.get("payType").value||"OverDraft"===e.expenseFormGroup.get("payType").value),c.Ab(5),c.nc("ngIf",e.submitted&&!e.expenseFormGroup.get("description").valid||!e.expenseFormGroup.get("description").valid&&e.expenseFormGroup.get("description").touched)}}function Ft(e,t){if(1&e){const e=c.Tb();c.Sb(0,"button",48),c.dc("click",(function(){return c.Bc(e),c.gc().hideExpenseDialog()})),c.Rb(),c.Sb(1,"button",49),c.dc("click",(function(){return c.Bc(e),c.gc().onSubmitExpense()})),c.Rb()}}function Dt(e,t){if(1&e){const e=c.Tb();c.Sb(0,"button",50),c.dc("click",(function(){return c.Bc(e),c.gc().exportPdf()})),c.Nb(1,"i",51),c.Rb()}}function Tt(e,t){if(1&e&&(c.Sb(0,"tr",16),c.Sb(1,"th",22),c.Nc(2),c.Rb(),c.Rb()),2&e){const e=c.gc(3);c.Ab(2),c.Pc("Receipt No : ",e.receiptData.id,"")}}function Bt(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.hc(2,"currency"),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Oc(c.kc(2,1,null==e.receiptData?null:e.receiptData.amount,"INR","symbol"))}}function wt(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Oc(null==e.receiptData?null:e.receiptData.payType)}}function xt(e,t){if(1&e&&(c.Sb(0,"div",53),c.Sb(1,"table",14),c.Sb(2,"thead",15),c.Sb(3,"tr",16),c.Sb(4,"th",17),c.Nb(5,"img",18),c.Sb(6,"p",19),c.Nc(7," Payment Receipt "),c.Rb(),c.Rb(),c.Rb(),c.Sb(8,"tr",16),c.Sb(9,"th",20),c.Nc(10,"The Aqua Polaris Co. Op. Housing Service Society Limited, "),c.Nb(11,"br"),c.Nc(12,"Nr. S.P. Ring Road, NH-8, "),c.Nb(13,"br"),c.Nc(14,"Nr. Pushkar bung, Nana Chiloda, Ahmedabad "),c.Nb(15,"br"),c.Nc(16,"382330 "),c.Nb(17,"br"),c.Nc(18,"Registered Cert. No.: NA DH N/ GNR/ SA(HA) 7347 Year 2012 "),c.Nb(19,"br"),c.Nb(20,"br"),c.Nb(21,"i",21),c.Nc(22,"\xa0aquapolaris0310@gmail.com "),c.Rb(),c.Rb(),c.Lc(23,Tt,3,1,"tr",54),c.Sb(24,"tr",16),c.Sb(25,"th",22),c.Nc(26),c.Rb(),c.Rb(),c.Sb(27,"tr",16),c.Sb(28,"th",22),c.Nc(29),c.hc(30,"date"),c.Rb(),c.Rb(),c.Sb(31,"tr",23),c.Sb(32,"th",55),c.Nc(33,"Description"),c.Rb(),c.Sb(34,"th",55),c.Nc(35,"Amount / Reference No."),c.Rb(),c.Rb(),c.Rb(),c.Sb(36,"tbody"),c.Sb(37,"tr"),c.Sb(38,"td"),c.Nc(39,"Amount"),c.Rb(),c.Lc(40,Bt,3,5,"td",30),c.Rb(),c.Sb(41,"tr"),c.Sb(42,"td"),c.Nc(43,"Payment type"),c.Rb(),c.Lc(44,wt,2,1,"td",30),c.Rb(),c.Sb(45,"tr"),c.Sb(46,"td"),c.Nc(47,"Reference No / Cheque No"),c.Rb(),c.Sb(48,"td"),c.Nc(49),c.Rb(),c.Rb(),c.Sb(50,"tr"),c.Sb(51,"td"),c.Nc(52,"Bank Name"),c.Rb(),c.Sb(53,"td"),c.Nc(54),c.Rb(),c.Rb(),c.Sb(55,"tr"),c.Sb(56,"td"),c.Nc(57,"Description"),c.Rb(),c.Sb(58,"td"),c.Nc(59),c.Rb(),c.Rb(),c.Sb(60,"tr"),c.Nb(61,"td"),c.Nb(62,"td"),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e){const e=c.gc(2);c.Ab(5),c.oc("src",e.imageUrl,c.Dc),c.Ab(18),c.nc("ngIf",null==e.receiptData?null:e.receiptData.otherPayment),c.Ab(3),c.Pc("Flat No : ",e.receiptData.userMasterId,""),c.Ab(3),c.Pc("Date : ",c.ic(30,9,e.receiptData.createdDate)," "),c.Ab(11),c.nc("ngIf",null==e.receiptData?null:e.receiptData.amount),c.Ab(4),c.nc("ngIf",null==e.receiptData?null:e.receiptData.payType),c.Ab(5),c.Oc(null!=e.receiptData&&e.receiptData.referenceNo?null==e.receiptData?null:e.receiptData.referenceNo:"-"),c.Ab(5),c.Oc(null!=e.receiptData&&e.receiptData.bankName?null==e.receiptData?null:e.receiptData.bankName:"-"),c.Ab(5),c.Oc(null!=e.receiptData&&e.receiptData.description?null==e.receiptData?null:e.receiptData.description:"-")}}function It(e,t){if(1&e&&c.Lc(0,xt,63,11,"div",52),2&e){const e=c.gc();c.nc("ngIf",e.receiptDialog)}}function Pt(e,t){if(1&e){const e=c.Tb();c.Sb(0,"button",50),c.dc("click",(function(){c.Bc(e);const t=c.gc();return t.exportPdfForReceipt(t.receiptData)})),c.Nb(1,"i",51),c.Rb()}}const qt=function(){return{width:"450px"}},Lt=function(){return{width:"500px"}},Ct=function(){return{width:"650px"}};let kt=(()=>{class e{constructor(e,t,n,i,a,r){this.adminService=e,this.errorService=t,this.formBuilder=n,this.localStorageService=i,this.angularFireDatabase=a,this.ngxNumToWordsService=r,this.imageUrl="assets/img/logo_transparent.png",this.payTypeList=[{name:"Cash",code:"Cash"},{name:"Cheque",code:"Cheque"},{name:"OverDraft",code:"OverDraft"}],this.cols=[{header:"Flat No."},{header:"Amount"},{header:"Paid Through"},{header:"Description"},{header:"Receipt"}],this.expenseCols=[{header:"Paid To"},{header:"Amount"},{header:"Paid Through"},{header:"Description"},{header:"Action"}],this.expenseandincomeObject={id:"A101",createdDate:new Date,updatedDate:new Date,userMasterId:"A101",description:"maintainence",amountType:"Credit",amount:1e3,payType:"cheque",reading:""},this.dataTableParams={offset:0,size:10,sortField:"NAME",sortOrder:1,searchText:null},this.incomeData=[],this.expenseData=[],this.otherPayment=[],this.voucherDialog=!1,this.fetchData=[],this.balance=0,this.totalRecords=0,this.size=y.a.MASTER_TABLE_ROW_SIZE,this.rowsPerPageOptions=y.a.MASTER_TABLE_PAGINATE_DROPDOWN,this.totalRecordsForExpense=0,this.submitted=!1}ngOnInit(){this.getIncome()}prepareQueryParam(e){const t=new URLSearchParams;for(const n in e)t.set(n,e[n]);return t}handleChange(e){}addBulkIncome(){this.adminService.addIncome(this.expenseandincomeObject).subscribe(e=>{console.log(e)},e=>{console.error(e)})}getIncome(){this.balance=0,this.queryParam=this.prepareQueryParam(this.dataTableParams),this.expenseData=[],this.amountData=[],this.incomeData=[],this.otherPayment=[],this.adminService.getIncomeAndExpenses(this.queryParam).subscribe(e=>{e&&(this.amountData=Object.keys(e).map(t=>({type:t,value:e[t]})),this.amountData.forEach(e=>{var t;"Credit"===e.value.amountType?((null===(t=e.value)||void 0===t?void 0:t.otherPayment)&&this.otherPayment.push(e.value),"Balance"!==e.value.id&&this.incomeData.push(e.value),this.balance=this.balance+parseInt(e.value.amount)):"Debit"===e.value.amountType&&(this.expenseData.push(e.value),this.balance=this.balance-parseInt(e.value.amount))}),console.log(this.balance),console.log(this.incomeData),console.log(this.expenseData),this.totalRecords=this.incomeData.length,this.totalRecordsForExpense=this.expenseData.length,"200"===e.statusCode&&"OK"===e.message&&this.errorService.userNotification(e.statusCode,"Get Data"))})}createVoucher(){this.voucherDialog=!0,this.popupHeader="Create Voucher",this.initializeExpenseFormGroup(),this.expenseFormGroup.get("amount").valueChanges.subscribe(e=>{const t=new $e;this.amountInWords=t.transform(e)})}viewVoucher(e){this.receiptDetail=e,console.log(this.receiptDetail),this.viewVoucherDialog=!0,this.popupHeader="View Voucher"}initializeExpenseFormGroup(){this.expenseFormGroup=this.formBuilder.group({id:[],createdDate:new Date,updatedDate:new Date,userMasterId:"",amountType:"Debit",payTo:["",[a.q.required]],payType:["",[a.q.required]],reading:"",amount:["",[a.q.required]],description:["",[a.q.required]],referenceNo:["",[a.q.required]],bankName:["",[a.q.required]]}),this.expenseFormGroup.get("payType").valueChanges.subscribe(e=>{"Cheque"===e||"OverDraft"===e?(this.expenseFormGroup.addControl("referenceNo",new a.c("",[a.q.required])),this.expenseFormGroup.addControl("bankName",new a.c("",[a.q.required]))):"Cash"===e&&(this.expenseFormGroup.removeControl("referenceNo"),this.expenseFormGroup.removeControl("bankName"))})}onSubmitExpense(){if(!this.expenseFormGroup.valid){let e;for(e in this.expenseFormGroup.controls)this.expenseFormGroup.controls[e].markAsDirty(),this.expenseFormGroup.controls[e].updateValueAndValidity();return this.submitted=!0,!1}console.log(this.expenseFormGroup.value),this.expenseFormGroup.value.id=this.expenseData.length+1,this.adminService.addIncome(this.expenseFormGroup.value).subscribe(e=>{console.log(e),this.hideExpenseDialog(),this.getIncome()},e=>{console.error(e)})}hideExpenseDialog(){this.voucherDialog=!1,this.initializeExpenseFormGroup()}hideVoucherDialog(){this.viewVoucherDialog=!1}exportPdf(){const e=document.getElementById("htmlData");A()(e).then(e=>{let t,n;const i=e.toDataURL("image/png",(t=e.width)*(n=e.height)),a=n/t,r=new M.a({orientation:"portrait"}),o=r.internal.pageSize.width;r.addImage(i,"JPEG",.25*o,30,.5*o,o*a*.5),r.save("voucher-receipt.pdf")})}showReceiptDialog(e){this.receiptDialog=!0,console.log(e),this.receiptData=e}hideReceiptDialog(){this.receiptDialog=!1}exportPdfForReceipt(e){const t=document.getElementById("generatedReceiptTabel");A()(t).then(t=>{let n,i;const a=t.toDataURL("image/png",(n=t.width)*(i=t.height)),r=i/n,o=new M.a({orientation:"portrait"}),c=o.internal.pageSize.width;o.addImage(a,"JPEG",.15*c,30,.7*c,c*r*.7),o.save(e.userMasterId+"_payment-receipt.pdf")})}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(B.a),c.Mb(u.a),c.Mb(a.b),c.Mb(m.a),c.Mb(T.a),c.Mb(je.b))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-expenseandincome"]],decls:109,vars:52,consts:[[1,"d-flex","align-self-center","main-nav","bg-primary","text-dark"],[1,"pt-3","pl-4"],[1,"pt-3","right"],["styleClass","tabview-custom p-3",3,"onChange"],["pTemplate","header"],[1,"p-button","bg-dark","rounded","mb-2",3,"click"],["styleClass","p-datatable-gridlines","scrollHeight","400px","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records",1,"mx-3",3,"scrollable","value","paginator","rows","totalRecords","showCurrentPageReport","rowsPerPageOptions"],["pTemplate","body"],["pTemplate","emptymessage"],["styleClass","p-fluid",3,"visible","header","modal","visibleChange","onHide"],["pTemplate","content"],["pTemplate","footer"],["styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],["id","htmlData"],[1,"table"],[1,"thead-light"],[1,"table-primary"],["scope","col","colspan","3",1,"align-center","text-center",2,"margin-bottom","20px"],["width","100","alt","profilePhoto",1,"d-inline","rounded-circle",3,"src"],[1,"d-inline",2,"font-size","2rem"],["scope","col","colspan","3",1,"text-center"],[1,"pi","pi-envelope"],["scope","col","colspan","3"],[1,"table-dark"],[1,"text-break","text-wrap"],[1,"table-success"],["pResizableColumn","",4,"ngFor","ngForOf"],["pResizableColumn",""],[1,"p-button","bg-dark","rounded",3,"click"],[1,"text-center"],[4,"ngIf"],["pTooltip","View Generated Receipt",1,"p-button","bg-dark","rounded",2,"font-size","15px","padding","10px",3,"click"],[1,"pi","pi-eye",2,"font-size","15px"],[3,"formGroup","ngSubmit"],[1,"p-field"],["for","name"],["type","text","autofocus","","pInputText","","id","regionName","formControlName","payTo","placeholder","Pay to","required","","maxLength","200"],["class","p-invalid",4,"ngIf"],["type","text","pInputText","","id","regionName","formControlName","amount","placeholder","Enter Amount","required","","pKeyFilter","num","maxLength","50"],["type","text","pInputText","","placeholder","Amount In Words","disabled","",3,"ngModel","ngModelOptions","ngModelChange"],["autofocus","","formControlName","payType","optionLabel","name","optionValue","name","placeholder","Select pay type",3,"options","showClear"],["class","p-field",4,"ngIf"],["pInputText","","formControlName","description","maxlength","500","name","description","id","","cols","200","rows","4","placeholder","Enter Description",1,"w-100"],[1,"p-invalid"],["for","referenceNo"],["type","text","pInputText","","id","referenceNo","formControlName","referenceNo","placeholder","Enter referenceNo","required","","autofocus","","pKeyFilter","num","maxLength","50"],["for","bankName"],["type","text","pInputText","","id","bankName","formControlName","bankName","placeholder","Enter bank name","required","","autofocus","","maxLength","50"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"bg-primary","text-dark",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"bg-dark",3,"click"],["type","button","pButton","","pRipple","","pTooltip","Download PDF","tooltipPosition","bottom",1,"bg-dark",3,"click"],[1,"pi","pi-download",2,"font-size","15px"],["id","generatedReceiptTabel",4,"ngIf"],["id","generatedReceiptTabel"],["class","table-primary",4,"ngIf"],["scope","col"]],template:function(e,t){1&e&&(c.Sb(0,"nav",0),c.Sb(1,"div",1),c.Sb(2,"b"),c.Sb(3,"h2"),c.Nc(4," Expenses and Income "),c.Rb(),c.Rb(),c.Rb(),c.Sb(5,"div",2),c.Sb(6,"b"),c.Sb(7,"h2"),c.Nc(8),c.hc(9,"currency"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(10,"p-tabView",3),c.dc("onChange",(function(e){return t.handleChange(e)})),c.Sb(11,"p-tabPanel"),c.Lc(12,Ye,2,0,"ng-template",4),c.Qb(13),c.Sb(14,"button",5),c.dc("click",(function(){return t.createVoucher()})),c.Nc(15," Add Voucher "),c.Rb(),c.Qb(16),c.Sb(17,"p-table",6),c.Lc(18,Xe,2,1,"ng-template",4),c.Lc(19,et,13,8,"ng-template",7),c.Lc(20,tt,3,1,"ng-template",8),c.Rb(),c.Pb(),c.Pb(),c.Rb(),c.Sb(21,"p-tabPanel"),c.Lc(22,nt,2,0,"ng-template",4),c.Qb(23),c.Qb(24),c.Sb(25,"p-table",6),c.Lc(26,at,2,1,"ng-template",4),c.Lc(27,ct,13,10,"ng-template",7),c.Lc(28,lt,3,1,"ng-template",8),c.Rb(),c.Pb(),c.Pb(),c.Rb(),c.Rb(),c.Sb(29,"p-dialog",9),c.dc("visibleChange",(function(e){return t.voucherDialog=e}))("onHide",(function(){return t.hideExpenseDialog()})),c.Lc(30,yt,27,12,"ng-template",10),c.Lc(31,Ft,2,0,"ng-template",11),c.Rb(),c.Sb(32,"p-dialog",12),c.dc("visibleChange",(function(e){return t.viewVoucherDialog=e}))("onHide",(function(){return t.hideVoucherDialog()})),c.Sb(33,"div",13),c.Sb(34,"table",14),c.Sb(35,"thead",15),c.Sb(36,"tr",16),c.Sb(37,"th",17),c.Nb(38,"img",18),c.Sb(39,"p",19),c.Nc(40," Voucher Receipt "),c.Rb(),c.Rb(),c.Rb(),c.Sb(41,"tr",16),c.Sb(42,"th",20),c.Nc(43,"The Aqua Polaris Co. Op. Housing Service Society Limited, "),c.Nb(44,"br"),c.Nc(45,"Nr. S.P. Ring Road, NH-8, "),c.Nb(46,"br"),c.Nc(47,"Nr. Pushkar bung, Nana Chiloda, Ahmedabad "),c.Nb(48,"br"),c.Nc(49,"382330 "),c.Nb(50,"br"),c.Nc(51,"Registered Cert. No.: NA DH N/ GNR/ SA(HA) 7347 Year 2012 "),c.Nb(52,"br"),c.Nb(53,"br"),c.Nb(54,"i",21),c.Nc(55,"\xa0aquapolaris0310@gmail.com "),c.Rb(),c.Rb(),c.Sb(56,"tr",16),c.Sb(57,"th",22),c.Nc(58),c.Rb(),c.Rb(),c.Sb(59,"tr",16),c.Sb(60,"th",22),c.Nc(61),c.hc(62,"date"),c.Rb(),c.Rb(),c.Rb(),c.Sb(63,"tbody"),c.Sb(64,"tr"),c.Sb(65,"td",23),c.Sb(66,"b"),c.Nc(67," Pay to: "),c.Rb(),c.Rb(),c.Sb(68,"td",24),c.Nc(69),c.Rb(),c.Rb(),c.Sb(70,"tr"),c.Sb(71,"td",23),c.Sb(72,"b"),c.Nc(73," Amount :"),c.Rb(),c.Rb(),c.Sb(74,"td",24),c.Nc(75),c.hc(76,"currency"),c.Rb(),c.Rb(),c.Sb(77,"tr"),c.Sb(78,"td",23),c.Sb(79,"b"),c.Nc(80," Amount in Words: "),c.Rb(),c.Rb(),c.Sb(81,"td",24),c.Nc(82),c.hc(83,"numberToWords"),c.Rb(),c.Rb(),c.Sb(84,"tr"),c.Sb(85,"td",23),c.Sb(86,"b"),c.Nc(87," Description: "),c.Rb(),c.Rb(),c.Sb(88,"td",24),c.Nc(89),c.Rb(),c.Rb(),c.Sb(90,"tr"),c.Sb(91,"td",23),c.Sb(92,"b"),c.Nc(93," Bank Name: "),c.Rb(),c.Rb(),c.Sb(94,"td",24),c.Nc(95),c.Rb(),c.Rb(),c.Sb(96,"tr"),c.Sb(97,"td",23),c.Sb(98,"b"),c.Nc(99," Pay Type: "),c.Rb(),c.Rb(),c.Sb(100,"td",24),c.Nc(101),c.Rb(),c.Rb(),c.Sb(102,"tr"),c.Nb(103,"td",25),c.Nb(104,"td",25),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Lc(105,Dt,2,0,"ng-template",11),c.Rb(),c.Sb(106,"p-dialog",12),c.dc("visibleChange",(function(e){return t.receiptDialog=e}))("onHide",(function(){return t.hideReceiptDialog()})),c.Lc(107,It,1,1,"ng-template",10),c.Lc(108,Pt,2,0,"ng-template",11),c.Rb()),2&e&&(c.Ab(8),c.Pc(" Balance: ",c.kc(9,37,t.balance,"INR","symbol")," "),c.Ab(9),c.nc("scrollable",!0)("value",t.expenseData)("paginator",!0)("rows",t.size)("totalRecords",t.totalRecordsForExpense)("showCurrentPageReport",!0)("rowsPerPageOptions",t.rowsPerPageOptions),c.Ab(8),c.nc("scrollable",!0)("value",t.incomeData)("paginator",!0)("rows",t.size)("totalRecords",t.totalRecords)("showCurrentPageReport",!0)("rowsPerPageOptions",t.rowsPerPageOptions),c.Ab(4),c.Hc(c.qc(49,qt)),c.oc("header",t.popupHeader),c.nc("visible",t.voucherDialog)("modal",!0),c.Ab(3),c.Hc(c.qc(50,Lt)),c.nc("visible",t.viewVoucherDialog)("modal",!0),c.Ab(6),c.oc("src",t.imageUrl,c.Dc),c.Ab(20),c.Pc("Voucher No : ",null==t.receiptDetail?null:t.receiptDetail.id,""),c.Ab(3),c.Pc("Month : ",c.ic(62,41,null==t.receiptDetail?null:t.receiptDetail.createdDate),""),c.Ab(8),c.Pc(" ",null==t.receiptDetail?null:t.receiptDetail.payTo,""),c.Ab(6),c.Oc(c.kc(76,43,null==t.receiptDetail?null:t.receiptDetail.amount,"INR","symbol")),c.Ab(7),c.Oc(c.ic(83,47,null==t.receiptDetail?null:t.receiptDetail.amount)),c.Ab(7),c.Pc(" ",null==t.receiptDetail?null:t.receiptDetail.description,""),c.Ab(6),c.Pc(" ",null==t.receiptDetail?null:t.receiptDetail.bankName,""),c.Ab(6),c.Pc(" ",null==t.receiptDetail?null:t.receiptDetail.payType,""),c.Ab(5),c.Hc(c.qc(51,Ct)),c.nc("visible",t.receiptDialog)("modal",!0))},directives:[Qe.b,Qe.a,x.h,w.b,P.a,i.l,w.a,i.m,I.a,a.s,a.l,a.e,a.a,p.a,a.k,a.d,a.p,g.a,a.m,C.a,a.g,q.a,L.a],pipes:[i.c,i.e,$e],styles:[".dropdown-rounded[_ngcontent-%COMP%]{border-radius:5px 5px 5px 5px}.right[_ngcontent-%COMP%]{margin-left:auto;margin-right:22px}"]}),e})();class Et{}function Ot(e,t){1&e&&c.Nb(0,"col",14)}function Gt(e,t){if(1&e&&(c.Sb(0,"colgroup"),c.Lc(1,Ot,1,0,"col",13),c.Rb()),2&e){const e=c.gc();c.Ab(1),c.nc("ngForOf",e.cols)}}function Ut(e,t){if(1&e&&(c.Sb(0,"th"),c.Nc(1),c.Rb()),2&e){const e=t.$implicit;c.Ab(1),c.Pc(" ",e.header," ")}}function Ht(e,t){if(1&e&&(c.Sb(0,"tr"),c.Lc(1,Ut,2,1,"th",15),c.Rb()),2&e){const e=c.gc();c.Ab(1),c.nc("ngForOf",e.cols)}}function _t(e,t){if(1&e&&(c.Sb(0,"p"),c.Nc(1),c.hc(2,"currency"),c.Rb()),2&e){const e=c.gc().$implicit;c.Ab(1),c.Oc(c.kc(2,1,e.amountReceived,"INR","symbol"))}}function zt(e,t){1&e&&(c.Sb(0,"p"),c.Nc(1," - "),c.Rb())}function Vt(e,t){if(1&e){const e=c.Tb();c.Sb(0,"button",22),c.dc("click",(function(){c.Bc(e);const t=c.gc().$implicit;return c.gc().showGenerateReceiptDialog(t)})),c.Nb(1,"i",23),c.Rb()}}function Wt(e,t){if(1&e){const e=c.Tb();c.Sb(0,"button",24),c.dc("click",(function(){c.Bc(e);const t=c.gc().$implicit;return c.gc().showMaintenanceReceiptDialog(t)})),c.Nb(1,"i",18),c.Rb()}}function Kt(e,t){if(1&e){const e=c.Tb();c.Sb(0,"button",25),c.dc("click",(function(){c.Bc(e);const t=c.gc().$implicit;return c.gc().editMaintenanceBill(t)})),c.Nb(1,"i",26),c.Rb()}}function Jt(e,t){if(1&e){const e=c.Tb();c.Sb(0,"tr"),c.Sb(1,"td"),c.Nc(2),c.Rb(),c.Sb(3,"td"),c.Nc(4),c.hc(5,"date"),c.Rb(),c.Sb(6,"td"),c.Nc(7),c.hc(8,"currency"),c.Rb(),c.Sb(9,"td"),c.Nc(10),c.Rb(),c.Sb(11,"td"),c.Nc(12),c.Rb(),c.Sb(13,"td"),c.Nc(14),c.Rb(),c.Sb(15,"td"),c.Lc(16,_t,3,5,"p",16),c.Lc(17,zt,2,0,"p",16),c.Rb(),c.Sb(18,"td"),c.Sb(19,"button",17),c.dc("click",(function(){c.Bc(e);const n=t.$implicit;return c.gc().showMaintenanceBillDialog(n)})),c.Nb(20,"i",18),c.Rb(),c.Nc(21," \xa0 "),c.Lc(22,Vt,2,0,"button",19),c.Nc(23," \xa0 "),c.Lc(24,Wt,2,0,"button",20),c.Lc(25,Kt,2,0,"button",21),c.Nc(26," \xa0 "),c.Rb(),c.Rb()}if(2&e){const e=t.$implicit;c.Ab(2),c.Pc(" ",e.userMasterId," "),c.Ab(2),c.Pc(" ",c.ic(5,11,e.createdDate)," "),c.Ab(3),c.Pc(" ",c.kc(8,13,e.amount,"INR","symbol")," "),c.Ab(3),c.Pc(" ",e.currentReading," "),c.Ab(2),c.Pc(" ",e.previousReading," "),c.Ab(2),c.Pc(" ",e.usedUnit," "),c.Ab(2),c.nc("ngIf",e.amountReceived),c.Ab(1),c.nc("ngIf",!e.amountReceived),c.Ab(5),c.nc("ngIf",!e.maintenancePaid),c.Ab(2),c.nc("ngIf",e.maintenancePaid),c.Ab(1),c.nc("ngIf",!e.maintenancePaid)}}function $t(e,t){1&e&&(c.Sb(0,"tr"),c.Sb(1,"td",27),c.Nc(2," No records found "),c.Rb(),c.Rb()),2&e&&(c.Ab(1),c.Bb("colspan",8))}function jt(e,t){if(1&e&&(c.Sb(0,"tr",33),c.Sb(1,"th",39),c.Nc(2),c.Rb(),c.Rb()),2&e){const e=c.gc(3);c.Ab(2),c.Pc("Month : ",null==e.maintenanceBill?null:e.maintenanceBill.month,"")}}function Qt(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Oc(null==e.maintenanceBill?null:e.maintenanceBill.currentReading)}}function Yt(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Oc(null==e.maintenanceBill?null:e.maintenanceBill.previousReading)}}function Zt(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Oc(null==e.maintenanceBill?null:e.maintenanceBill.usedUnit)}}function Xt(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.hc(2,"currency"),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Pc("",c.kc(2,1,null==e.maintenanceBill?null:e.maintenanceBill.waterAmount,"INR","symbol")," per unit")}}function en(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.hc(2,"currency"),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Oc(c.kc(2,1,(null==e.maintenanceBill?null:e.maintenanceBill.waterAmount)*(null==e.maintenanceBill?null:e.maintenanceBill.usedUnit),"INR","symbol"))}}function tn(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.hc(2,"currency"),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Oc(c.kc(2,1,null==e.maintenanceBill?null:e.maintenanceBill.averageReading,"INR","symbol"))}}function nn(e,t){1&e&&(c.Sb(0,"td"),c.Nc(1,"-"),c.Rb())}function an(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.hc(2,"currency"),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Oc(c.kc(2,1,null==e.maintenanceBill?null:e.maintenanceBill.maintenanceAmount,"INR","symbol"))}}function rn(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Oc(null==e.maintenanceBill?null:e.maintenanceBill.otherDescription)}}function on(e,t){1&e&&(c.Sb(0,"td"),c.Nc(1,"-"),c.Rb())}function cn(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.hc(2,"currency"),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Oc(c.kc(2,1,null==e.maintenanceBill?null:e.maintenanceBill.otherAmount,"INR","symbol"))}}function ln(e,t){1&e&&(c.Sb(0,"td"),c.Nc(1,"-"),c.Rb())}function sn(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.hc(2,"currency"),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Oc(c.kc(2,1,e.total,"INR","symbol"))}}function bn(e,t){if(1&e&&(c.Sb(0,"div",29),c.Sb(1,"table",30),c.Sb(2,"thead",31),c.Nb(3,"tr",32),c.Sb(4,"tr",33),c.Sb(5,"th",34),c.Nb(6,"img",35),c.Sb(7,"p",36),c.Nc(8," Maintenance Receipt "),c.Rb(),c.Rb(),c.Rb(),c.Sb(9,"tr",33),c.Sb(10,"th",37),c.Nc(11,"The Aqua Polaris Co. Op. Housing Service Society Limited, "),c.Nb(12,"br"),c.Nc(13,"Nr. S.P. Ring Road, NH-8, "),c.Nb(14,"br"),c.Nc(15,"Nr. Pushkar bung, Nana Chiloda, Ahmedabad "),c.Nb(16,"br"),c.Nc(17,"382330 "),c.Nb(18,"br"),c.Nc(19,"Registered Cert. No.: NA DH N/ GNR/ SA(HA) 7347 Year 2012 "),c.Nb(20,"br"),c.Nb(21,"br"),c.Nb(22,"i",38),c.Nc(23,"\xa0aquapolaris0310@gmail.com "),c.Rb(),c.Rb(),c.Sb(24,"tr",33),c.Sb(25,"th",39),c.Nc(26),c.Rb(),c.Rb(),c.Sb(27,"tr",33),c.Sb(28,"th",39),c.Nc(29),c.Rb(),c.Rb(),c.Sb(30,"tr",33),c.Sb(31,"th",39),c.Nc(32),c.hc(33,"date"),c.Rb(),c.Rb(),c.Lc(34,jt,3,1,"tr",40),c.Sb(35,"tr",41),c.Sb(36,"th",42),c.Nc(37,"Description"),c.Rb(),c.Sb(38,"th",42),c.Nc(39,"Unit/Reading"),c.Rb(),c.Sb(40,"th",42),c.Nc(41,"Amount"),c.Rb(),c.Rb(),c.Rb(),c.Sb(42,"tbody"),c.Sb(43,"tr"),c.Sb(44,"td",43),c.Nc(45,"Current Reading"),c.Rb(),c.Lc(46,Qt,2,1,"td",16),c.Sb(47,"td"),c.Nc(48,"-"),c.Rb(),c.Rb(),c.Sb(49,"tr"),c.Sb(50,"td",43),c.Nc(51,"Previous Reading"),c.Rb(),c.Lc(52,Yt,2,1,"td",16),c.Sb(53,"td"),c.Nc(54,"-"),c.Rb(),c.Rb(),c.Sb(55,"tr"),c.Sb(56,"td"),c.Nc(57,"Used Unit "),c.Rb(),c.Lc(58,Zt,2,1,"td",16),c.Sb(59,"td"),c.Nc(60,"-"),c.Rb(),c.Rb(),c.Sb(61,"tr"),c.Sb(62,"td"),c.Nc(63,"Water Rate/unit"),c.Rb(),c.Lc(64,Xt,3,5,"td",44),c.Sb(65,"td"),c.Nc(66,"-"),c.Rb(),c.Rb(),c.Sb(67,"tr"),c.Sb(68,"td"),c.Nc(69,"Water Bill Amount"),c.Rb(),c.Sb(70,"td"),c.Nc(71,"-"),c.Rb(),c.Lc(72,en,3,5,"td",16),c.Rb(),c.Sb(73,"tr"),c.Sb(74,"td"),c.Nc(75,"Average Water Bill Amount"),c.Rb(),c.Sb(76,"td"),c.Nc(77,"-"),c.Rb(),c.Lc(78,tn,3,5,"td",16),c.Lc(79,nn,2,0,"td",16),c.Rb(),c.Sb(80,"tr"),c.Sb(81,"td"),c.Nc(82,"Maintenance Amount"),c.Rb(),c.Sb(83,"td"),c.Nc(84,"-"),c.Rb(),c.Lc(85,an,3,5,"td",16),c.Rb(),c.Sb(86,"tr"),c.Sb(87,"td"),c.Nc(88,"Other Amount"),c.Rb(),c.Lc(89,rn,2,1,"td",16),c.Lc(90,on,2,0,"td",16),c.Lc(91,cn,3,5,"td",16),c.Lc(92,ln,2,0,"td",16),c.Rb(),c.Sb(93,"tr"),c.Sb(94,"td"),c.Nc(95,"Remaining Amount"),c.Rb(),c.Sb(96,"td"),c.Nc(97,"-"),c.Rb(),c.Sb(98,"td"),c.Nc(99),c.hc(100,"currency"),c.Rb(),c.Rb(),c.Sb(101,"tr"),c.Nb(102,"td"),c.Nb(103,"td"),c.Nb(104,"td"),c.Rb(),c.Sb(105,"tr",45),c.Sb(106,"td"),c.Nc(107,"Total"),c.Rb(),c.Nb(108,"td"),c.Lc(109,sn,3,5,"td",16),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e){const e=c.gc(2);c.Ab(6),c.oc("src",e.imageUrl,c.Dc),c.Ab(20),c.Pc("Maintenance Type: ",e.maintenanceBill.maintainenceType,""),c.Ab(3),c.Pc("Name : ",e.maintenanceBill.userMasterId,""),c.Ab(3),c.Pc("Generated Date : ",c.ic(33,20,e.maintenanceBill.createdDate),""),c.Ab(2),c.nc("ngIf",null==e.maintenanceBill?null:e.maintenanceBill.month),c.Ab(12),c.nc("ngIf",null==e.maintenanceBill?null:e.maintenanceBill.currentReading),c.Ab(6),c.nc("ngIf",null==e.maintenanceBill?null:e.maintenanceBill.previousReading),c.Ab(6),c.nc("ngIf",null==e.maintenanceBill?null:e.maintenanceBill.usedUnit),c.Ab(6),c.nc("ngIf",null==e.maintenanceBill?null:e.maintenanceBill.waterAmount)("ngIfElse",e.averageAmount),c.Ab(8),c.nc("ngIf",null==e.maintenanceBill?null:e.maintenanceBill.waterAmount),c.Ab(6),c.nc("ngIf",null==e.maintenanceBill?null:e.maintenanceBill.averageReading),c.Ab(1),c.nc("ngIf",!(null!=e.maintenanceBill&&e.maintenanceBill.averageReading)),c.Ab(6),c.nc("ngIf",null==e.maintenanceBill?null:e.maintenanceBill.maintenanceAmount),c.Ab(4),c.nc("ngIf",null==e.maintenanceBill?null:e.maintenanceBill.otherDescription),c.Ab(1),c.nc("ngIf",!(null!=e.maintenanceBill&&e.maintenanceBill.otherDescription)),c.Ab(1),c.nc("ngIf",null==e.maintenanceBill?null:e.maintenanceBill.otherAmount),c.Ab(1),c.nc("ngIf",!(null!=e.maintenanceBill&&e.maintenanceBill.otherAmount)),c.Ab(7),c.Oc(c.kc(100,22,null==e.maintenanceBill?null:e.maintenanceBill.previousPendingAmount,"INR","symbol")),c.Ab(10),c.nc("ngIf",null==e.maintenanceBill?null:e.maintenanceBill.amount)}}function un(e,t){if(1&e&&c.Lc(0,bn,110,26,"div",28),2&e){const e=c.gc();c.nc("ngIf",e.maintenanceBillDialog)}}function dn(e,t){if(1&e){const e=c.Tb();c.Sb(0,"button",46),c.dc("click",(function(){c.Bc(e);const t=c.gc();return t.exportPdfForBill(t.maintenanceBill)})),c.Nb(1,"i",47),c.Rb()}}function mn(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.hc(2,"currency"),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Oc(c.kc(2,1,null==e.maintenanceReceipt?null:e.maintenanceReceipt.amount,"INR","symbol"))}}function pn(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Oc(null==e.maintenanceReceipt?null:e.maintenanceReceipt.payType)}}function gn(e,t){if(1&e&&(c.Sb(0,"td"),c.Nc(1),c.hc(2,"currency"),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.Pc(" ",c.kc(2,1,null==e.maintenanceReceipt?null:e.maintenanceReceipt.amountReceived,"INR","symbol"),"")}}function hn(e,t){if(1&e&&(c.Sb(0,"div",49),c.Sb(1,"table",50),c.Sb(2,"thead",31),c.Sb(3,"tr",33),c.Sb(4,"th",34),c.Nb(5,"img",35),c.Sb(6,"p",36),c.Nc(7," Maintenance Receipt "),c.Rb(),c.Rb(),c.Rb(),c.Sb(8,"tr",33),c.Sb(9,"th",37),c.Nc(10,"The Aqua Polaris Co. Op. Housing Service Society Limited, "),c.Nb(11,"br"),c.Nc(12,"Nr. S.P. Ring Road, NH-8, "),c.Nb(13,"br"),c.Nc(14,"Nr. Pushkar bung, Nana Chiloda, Ahmedabad "),c.Nb(15,"br"),c.Nc(16,"382330 "),c.Nb(17,"br"),c.Nc(18,"Registered Cert. No.: NA DH N/ GNR/ SA(HA) 7347 Year 2012 "),c.Nb(19,"br"),c.Nb(20,"br"),c.Nb(21,"i",38),c.Nc(22,"\xa0aquapolaris0310@gmail.com "),c.Rb(),c.Rb(),c.Sb(23,"tr",33),c.Sb(24,"th",39),c.Nc(25),c.Rb(),c.Rb(),c.Sb(26,"tr",33),c.Sb(27,"th",39),c.Nc(28),c.Rb(),c.Rb(),c.Sb(29,"tr",33),c.Sb(30,"th",39),c.Nc(31),c.hc(32,"date"),c.Rb(),c.Rb(),c.Sb(33,"tr",41),c.Sb(34,"th",42),c.Nc(35,"Description"),c.Rb(),c.Sb(36,"th",42),c.Nc(37,"Amount / Reference No."),c.Rb(),c.Rb(),c.Rb(),c.Sb(38,"tbody"),c.Sb(39,"tr"),c.Sb(40,"td"),c.Nc(41,"Amount"),c.Rb(),c.Lc(42,mn,3,5,"td",16),c.Rb(),c.Sb(43,"tr"),c.Sb(44,"td"),c.Nc(45,"Payment type"),c.Rb(),c.Lc(46,pn,2,1,"td",16),c.Rb(),c.Sb(47,"tr"),c.Sb(48,"td"),c.Nc(49,"Reference No / Cheque No"),c.Rb(),c.Sb(50,"td"),c.Nc(51),c.Rb(),c.Rb(),c.Sb(52,"tr"),c.Sb(53,"td"),c.Nc(54,"Bank Name"),c.Rb(),c.Sb(55,"td"),c.Nc(56),c.Rb(),c.Rb(),c.Sb(57,"tr"),c.Nb(58,"td"),c.Nb(59,"td"),c.Rb(),c.Sb(60,"tr",45),c.Sb(61,"td"),c.Nc(62,"Amount Paid"),c.Rb(),c.Lc(63,gn,3,5,"td",16),c.Rb(),c.Sb(64,"tr",45),c.Sb(65,"td"),c.Nc(66,"Remaining Amount"),c.Rb(),c.Sb(67,"td"),c.Nc(68),c.hc(69,"currency"),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Rb()),2&e){const e=c.gc(2);c.Ab(5),c.oc("src",e.imageUrl,c.Dc),c.Ab(20),c.Pc("Name : ",e.maintenanceReceipt.userMasterId,""),c.Ab(3),c.Pc("Month : ",e.maintenanceReceipt.month," "),c.Ab(3),c.Pc("Date : ",c.ic(32,10,e.maintenanceReceipt.createdDate)," "),c.Ab(11),c.nc("ngIf",null==e.maintenanceReceipt?null:e.maintenanceReceipt.amount),c.Ab(4),c.nc("ngIf",null==e.maintenanceReceipt?null:e.maintenanceReceipt.payType),c.Ab(5),c.Oc(null!=e.maintenanceReceipt&&e.maintenanceReceipt.referenceNo?null==e.maintenanceReceipt?null:e.maintenanceReceipt.referenceNo:"-"),c.Ab(5),c.Oc(null!=e.maintenanceReceipt&&e.maintenanceReceipt.bankName?null==e.maintenanceReceipt?null:e.maintenanceReceipt.bankName:"-"),c.Ab(7),c.nc("ngIf",null==e.maintenanceReceipt?null:e.maintenanceReceipt.amount),c.Ab(5),c.Oc(c.kc(69,12,e.remainingAmount,"INR","symbol"))}}function fn(e,t){if(1&e&&c.Lc(0,hn,70,16,"div",48),2&e){const e=c.gc();c.nc("ngIf",e.maintenanceReceiptDialog)}}function Rn(e,t){if(1&e){const e=c.Tb();c.Sb(0,"button",46),c.dc("click",(function(){c.Bc(e);const t=c.gc();return t.exportPdfForReceipt(t.maintenanceReceipt)})),c.Nb(1,"i",47),c.Rb()}}function vn(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function Sn(e,t){if(1&e&&(c.Sb(0,"div",75),c.Lc(1,vn,2,0,"div",16),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.generateMaintenanceForm.get("maintenanceAmount").errors.required)}}function Nn(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function An(e,t){if(1&e&&(c.Sb(0,"div",75),c.Lc(1,Nn,2,0,"div",16),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.generateMaintenanceForm.get("waterAmount").errors.required)}}function Mn(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function yn(e,t){if(1&e&&(c.Sb(0,"div",75),c.Lc(1,Mn,2,0,"div",16),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.generateMaintenanceForm.get("usedUnit").errors.required)}}function Fn(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function Dn(e,t){if(1&e&&(c.Sb(0,"div",75),c.Lc(1,Fn,2,0,"div",16),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.generateMaintenanceForm.get("previousReading").errors.required)}}function Tn(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function Bn(e,t){if(1&e&&(c.Sb(0,"div",75),c.Lc(1,Tn,2,0,"div",16),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.generateMaintenanceForm.get("currentReading").errors.required)}}function wn(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function xn(e,t){if(1&e&&(c.Sb(0,"div",75),c.Lc(1,wn,2,0,"div",16),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.generateMaintenanceForm.get("payType").errors.required)}}function In(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function Pn(e,t){if(1&e&&(c.Sb(0,"div",75),c.Lc(1,In,2,0,"div",16),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.nc("ngIf",e.generateMaintenanceForm.get("referenceNo").errors.required)}}function qn(e,t){if(1&e&&(c.Sb(0,"div",52),c.Sb(1,"label",76),c.Nc(2," Reference No / Cheque No* "),c.Rb(),c.Nb(3,"input",77),c.Lc(4,Pn,2,1,"div",55),c.Rb()),2&e){const e=c.gc(2);c.Ab(4),c.nc("ngIf",e.generateMaintenanceFormSubmitted&&!e.generateMaintenanceForm.get("referenceNo").valid||!e.generateMaintenanceForm.get("referenceNo").valid&&e.generateMaintenanceForm.get("referenceNo").touched)}}function Ln(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function Cn(e,t){if(1&e&&(c.Sb(0,"div",75),c.Lc(1,Ln,2,0,"div",16),c.Rb()),2&e){const e=c.gc(3);c.Ab(1),c.nc("ngIf",e.generateMaintenanceForm.get("bankName").errors.required)}}function kn(e,t){if(1&e&&(c.Sb(0,"div",52),c.Sb(1,"label",78),c.Nc(2," Bank Name* "),c.Rb(),c.Nb(3,"input",79),c.Lc(4,Cn,2,1,"div",55),c.Rb()),2&e){const e=c.gc(2);c.Ab(4),c.nc("ngIf",e.generateMaintenanceFormSubmitted&&!e.generateMaintenanceForm.get("bankName").valid||!e.generateMaintenanceForm.get("bankName").valid&&e.generateMaintenanceForm.get("bankName").touched)}}function En(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function On(e,t){if(1&e&&(c.Sb(0,"div",75),c.Lc(1,En,2,0,"div",16),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.generateMaintenanceForm.get("amountReceived").errors.required)}}function Gn(e,t){if(1&e){const e=c.Tb();c.Sb(0,"form",51),c.dc("ngSubmit",(function(){return c.Bc(e),c.gc().GenerateMaintenanceBill()})),c.Sb(1,"div",52),c.Sb(2,"label",53),c.Nc(3,"Maintenance Amount* "),c.Rb(),c.Nb(4,"input",54),c.Lc(5,Sn,2,1,"div",55),c.Rb(),c.Sb(6,"div",52),c.Sb(7,"label",56),c.Nc(8,"Water Bill Amount* "),c.Rb(),c.Nb(9,"input",57),c.Lc(10,An,2,1,"div",55),c.Rb(),c.Sb(11,"div",52),c.Sb(12,"label",58),c.Nc(13,"Used Water unit* "),c.Rb(),c.Nb(14,"input",59),c.Lc(15,yn,2,1,"div",55),c.Rb(),c.Sb(16,"div",52),c.Sb(17,"label",60),c.Nc(18,"Previous Reading* "),c.Rb(),c.Nb(19,"input",61),c.Lc(20,Dn,2,1,"div",55),c.Rb(),c.Sb(21,"div",52),c.Sb(22,"label",62),c.Nc(23,"Current Reading* "),c.Rb(),c.Nb(24,"input",63),c.Lc(25,Bn,2,1,"div",55),c.Rb(),c.Sb(26,"div",52),c.Sb(27,"label",64),c.Nc(28,"Average Reading* "),c.Rb(),c.Nb(29,"input",65),c.Rb(),c.Sb(30,"div",52),c.Sb(31,"label",66),c.Nc(32,"Total Payable Amount* "),c.Rb(),c.Nb(33,"input",67),c.Rb(),c.Sb(34,"div",52),c.Sb(35,"label",68),c.Nc(36,"Select Payment Type* "),c.Rb(),c.Nb(37,"p-dropdown",69),c.Lc(38,xn,2,1,"div",55),c.Rb(),c.Lc(39,qn,5,1,"div",70),c.Lc(40,kn,5,1,"div",70),c.Sb(41,"div",52),c.Sb(42,"label",71),c.Nc(43," Description "),c.Rb(),c.Nb(44,"textarea",72),c.Rb(),c.Sb(45,"div",52),c.Sb(46,"label",73),c.Nc(47," Amount To Pay* "),c.Rb(),c.Nb(48,"input",74),c.Lc(49,On,2,1,"div",55),c.Rb(),c.Rb()}if(2&e){const e=c.gc();c.nc("formGroup",e.generateMaintenanceForm),c.Ab(5),c.nc("ngIf",e.generateMaintenanceFormSubmitted&&!e.generateMaintenanceForm.get("maintenanceAmount").valid||!e.generateMaintenanceForm.get("maintenanceAmount").valid&&e.generateMaintenanceForm.get("maintenanceAmount").touched),c.Ab(5),c.nc("ngIf",e.generateMaintenanceFormSubmitted&&!e.generateMaintenanceForm.get("waterAmount").valid||!e.generateMaintenanceForm.get("waterAmount").valid&&e.generateMaintenanceForm.get("waterAmount").touched),c.Ab(5),c.nc("ngIf",e.generateMaintenanceFormSubmitted&&!e.generateMaintenanceForm.get("usedUnit").valid||!e.generateMaintenanceForm.get("usedUnit").valid&&e.generateMaintenanceForm.get("usedUnit").touched),c.Ab(5),c.nc("ngIf",e.generateMaintenanceFormSubmitted&&!e.generateMaintenanceForm.get("previousReading").valid||!e.generateMaintenanceForm.get("previousReading").valid&&e.generateMaintenanceForm.get("previousReading").touched),c.Ab(5),c.nc("ngIf",e.generateMaintenanceFormSubmitted&&!e.generateMaintenanceForm.get("currentReading").valid||!e.generateMaintenanceForm.get("currentReading").valid&&e.generateMaintenanceForm.get("currentReading").touched),c.Ab(12),c.nc("options",e.paymentType)("showClear",!0),c.Ab(1),c.nc("ngIf",e.generateMaintenanceFormSubmitted&&!e.generateMaintenanceForm.get("payType").valid||!e.generateMaintenanceForm.get("payType").valid&&e.generateMaintenanceForm.get("payType").touched),c.Ab(1),c.nc("ngIf","Cheque"===e.generateMaintenanceForm.get("payType").value||"Online"===e.generateMaintenanceForm.get("payType").value),c.Ab(1),c.nc("ngIf","Cheque"===e.generateMaintenanceForm.get("payType").value||"Online"===e.generateMaintenanceForm.get("payType").value),c.Ab(9),c.nc("ngIf",e.generateMaintenanceFormSubmitted&&!e.generateMaintenanceForm.get("amountReceived").valid||!e.generateMaintenanceForm.get("amountReceived").valid&&e.generateMaintenanceForm.get("amountReceived").touched)}}function Un(e,t){if(1&e){const e=c.Tb();c.Sb(0,"button",80),c.dc("click",(function(){return c.Bc(e),c.gc().hideGenerateReceiptDialog()})),c.Rb(),c.Sb(1,"button",81),c.dc("click",(function(){c.Bc(e);const t=c.gc();return t.onSubmitGenerateReceipt(t.generateMaintenanceForm)})),c.Rb()}}function Hn(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function _n(e,t){if(1&e&&(c.Sb(0,"div",75),c.Lc(1,Hn,2,0,"div",16),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.editMaintenanceForm.get("maintainenceType").errors.required)}}function zn(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function Vn(e,t){if(1&e&&(c.Sb(0,"div",75),c.Lc(1,zn,2,0,"div",16),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.editMaintenanceForm.get("month").errors.required)}}function Wn(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function Kn(e,t){if(1&e&&(c.Sb(0,"div",75),c.Lc(1,Wn,2,0,"div",16),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.editMaintenanceForm.get("maintenanceAmount").errors.required)}}function Jn(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function $n(e,t){if(1&e&&(c.Sb(0,"div",75),c.Lc(1,Jn,2,0,"div",16),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.editMaintenanceForm.get("waterAmount").errors.required)}}function jn(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function Qn(e,t){if(1&e&&(c.Sb(0,"div",75),c.Lc(1,jn,2,0,"div",16),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.editMaintenanceForm.get("currentReading").errors.required)}}function Yn(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function Zn(e,t){if(1&e&&(c.Sb(0,"div",75),c.Lc(1,Yn,2,0,"div",16),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.editMaintenanceForm.get("previousReading").errors.required)}}function Xn(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function ei(e,t){if(1&e&&(c.Sb(0,"div",75),c.Lc(1,Xn,2,0,"div",16),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.editMaintenanceForm.get("usedUnit").errors.required)}}function ti(e,t){1&e&&(c.Sb(0,"div"),c.Nc(1," Required "),c.Rb())}function ni(e,t){if(1&e&&(c.Sb(0,"div",75),c.Lc(1,ti,2,0,"div",16),c.Rb()),2&e){const e=c.gc(2);c.Ab(1),c.nc("ngIf",e.editMaintenanceForm.get("averageReading").errors.required)}}function ii(e,t){if(1&e){const e=c.Tb();c.Sb(0,"form",51),c.dc("ngSubmit",(function(){return c.Bc(e),c.gc().onSubmitEditMaintenanceBill()})),c.Sb(1,"div",52),c.Sb(2,"label",68),c.Nc(3,"Select Maintainence Type* "),c.Rb(),c.Nb(4,"p-dropdown",82),c.Lc(5,_n,2,1,"div",55),c.Rb(),c.Sb(6,"div",52),c.Sb(7,"label",68),c.Nc(8,"Month* "),c.Rb(),c.Nb(9,"p-dropdown",83),c.Lc(10,Vn,2,1,"div",55),c.Rb(),c.Sb(11,"div",52),c.Sb(12,"label",53),c.Nc(13,"Maintenance Amount* "),c.Rb(),c.Nb(14,"input",54),c.Lc(15,Kn,2,1,"div",55),c.Rb(),c.Sb(16,"div",52),c.Sb(17,"label",56),c.Nc(18,"Water Bill Amount* "),c.Rb(),c.Nb(19,"input",57),c.Lc(20,$n,2,1,"div",55),c.Rb(),c.Sb(21,"div",52),c.Sb(22,"label",62),c.Nc(23,"Current Reading* "),c.Rb(),c.Nb(24,"input",84),c.Lc(25,Qn,2,1,"div",55),c.Rb(),c.Sb(26,"div",52),c.Sb(27,"label",60),c.Nc(28,"Previous Reading* "),c.Rb(),c.Nb(29,"input",61),c.Lc(30,Zn,2,1,"div",55),c.Rb(),c.Sb(31,"div",52),c.Sb(32,"label",58),c.Nc(33,"Used Water unit* "),c.Rb(),c.Nb(34,"input",85),c.Lc(35,ei,2,1,"div",55),c.Rb(),c.Sb(36,"div",52),c.Sb(37,"label",64),c.Nc(38,"Average Water Bill "),c.Rb(),c.Nb(39,"input",86),c.Lc(40,ni,2,1,"div",55),c.Rb(),c.Sb(41,"div",52),c.Sb(42,"label",87),c.Nc(43,"Other amount"),c.Rb(),c.Nb(44,"input",88),c.Rb(),c.Sb(45,"div",52),c.Sb(46,"label",87),c.Nc(47,"Other description"),c.Rb(),c.Nb(48,"input",89),c.Rb(),c.Rb()}if(2&e){const e=c.gc();c.nc("formGroup",e.editMaintenanceForm),c.Ab(4),c.nc("options",e.maintainenceType)("showClear",!0),c.Ab(1),c.nc("ngIf",e.editMaintenanceFormSubmitted&&!e.editMaintenanceForm.get("maintainenceType").valid||!e.editMaintenanceForm.get("maintainenceType").valid&&e.editMaintenanceForm.get("maintainenceType").touched),c.Ab(4),c.nc("options",e.monthList)("showClear",!0),c.Ab(1),c.nc("ngIf",e.editMaintenanceFormSubmitted&&!e.editMaintenanceForm.get("month").valid||!e.editMaintenanceForm.get("month").valid&&e.editMaintenanceForm.get("month").touched),c.Ab(5),c.nc("ngIf",e.editMaintenanceFormSubmitted&&!e.editMaintenanceForm.get("maintenanceAmount").valid||!e.editMaintenanceForm.get("maintenanceAmount").valid&&e.editMaintenanceForm.get("maintenanceAmount").touched),c.Ab(5),c.nc("ngIf",e.editMaintenanceFormSubmitted&&!e.editMaintenanceForm.get("waterAmount").valid||!e.editMaintenanceForm.get("waterAmount").valid&&e.editMaintenanceForm.get("waterAmount").touched),c.Ab(5),c.nc("ngIf",e.editMaintenanceFormSubmitted&&!e.editMaintenanceForm.get("currentReading").valid||!e.editMaintenanceForm.get("currentReading").valid&&e.editMaintenanceForm.get("currentReading").touched),c.Ab(5),c.nc("ngIf",e.editMaintenanceFormSubmitted&&!e.editMaintenanceForm.get("previousReading").valid||!e.editMaintenanceForm.get("previousReading").valid&&e.editMaintenanceForm.get("previousReading").touched),c.Ab(5),c.nc("ngIf",e.editMaintenanceFormSubmitted&&!e.editMaintenanceForm.get("usedUnit").valid||!e.editMaintenanceForm.get("usedUnit").valid&&e.editMaintenanceForm.get("usedUnit").touched),c.Ab(5),c.nc("ngIf",e.editMaintenanceFormSubmitted&&!e.editMaintenanceForm.get("averageReading").valid||!e.editMaintenanceForm.get("averageReading").valid&&e.editMaintenanceForm.get("averageReading").touched)}}function ai(e,t){if(1&e){const e=c.Tb();c.Sb(0,"button",80),c.dc("click",(function(){return c.Bc(e),c.gc().onHideEdirMaintainenceDialog()})),c.Rb(),c.Sb(1,"button",81),c.dc("click",(function(){c.Bc(e);const t=c.gc();return t.onSubmitEditMaintenanceBill(t.editMaintenanceForm)})),c.Rb()}}const ri=function(){return{width:"650px"}},oi=function(){return{width:"450px"}},ci=[{path:"",component:l,children:[{path:"dashboard",component:Je},{path:"expense-income",component:kt},{path:"receive-maintainence",component:(()=>{class e{constructor(e,t,n,i,a,r,o){this.dashboardService=e,this.adminService=t,this.errorService=n,this._formBuilder=i,this.angularFireDatabase=a,this.notificationService=r,this.authService=o,this.imageUrl="assets/img/logo_transparent.png",this.maintenanceData=[],this.lstofMaintenance=[],this.maintenanceBillDialog=!1,this.maintenanceReceiptDialog=!1,this.generateReceiptDialog=!1,this.generateMaintenanceFormSubmitted=!1,this.editMaintenanceFormSubmitted=!1,this.remainingAmount=0,this.totalRecords=0,this.size=y.a.MASTER_TABLE_ROW_SIZE,this.rowsPerPageOptions=y.a.MASTER_TABLE_PAGINATE_DROPDOWN,this.count=0,this.cols=[{header:"Name"},{header:"Create Date"},{header:"Amount"},{header:"Current Reading"},{header:"Previous Reading"},{header:"Used Unit"},{header:"Amount Received"},{header:"Action"}],this.generatedMintenanceColumns=[{label:"Description"},{label:"Amount/Unit"}],this.paymentType=[{label:"Cheque",value:"CHAQUE"},{label:"Cash",value:"CASH"},{label:"Online",value:"ONLINE"}],this.maintainenceType=[{label:"Tenant",value:"MAINTENANCE_AMOUNT_TENANT"},{label:"Own",value:"MAINTENANCE_AMOUNT"}],this.monthList=[{label:"January",value:"January"},{label:"February",value:"February"},{label:"March",value:"March"},{label:"April",value:"April"},{label:"May",value:"May"},{label:"June",value:"June"},{label:"July",value:"July"},{label:"August",value:"August"},{label:"September",value:"September"},{label:"October",value:"October"},{label:"November",value:"November"},{label:"December",value:"December"}]}ngOnInit(){this.getSampleData()}hidemaintenanceBillDialog(){this.maintenanceBillDialog=!1}showMaintenanceBillDialog(e){this.maintenanceBill=e,console.log(this.maintenanceBill),this.total=0!==Number(e.waterAmount*(null==e?void 0:e.usedUnit))?Number((null==e?void 0:e.waterAmount)*(null==e?void 0:e.usedUnit))+Number(null==e?void 0:e.previousPendingAmount)+Number(null==e?void 0:e.otherAmount)+Number(null==e?void 0:e.maintenanceAmount):Number(null==e?void 0:e.averageReading)+Number(null==e?void 0:e.previousPendingAmount)+Number(null==e?void 0:e.otherAmount)+Number(null==e?void 0:e.maintenanceAmount),console.log(this.total),this.maintenanceBillDialog=!0}hidemaintenanceReceiptDialog(){this.maintenanceReceipt=null,this.maintenanceReceiptDialog=!1}showMaintenanceReceiptDialog(e){this.maintenanceReceipt=e,console.log(this.maintenanceReceipt),this.maintenanceReceiptDialog=!0,this.getUserData(e.userMasterId)}getUserData(e){this.authService.getUser(e).valueChanges().subscribe(e=>{console.log(e),this.remainingAmount=e.amount})}hideGenerateReceiptDialog(){this.generateReceiptDialog=!1}showGenerateReceiptDialog(e){this.popupHeader="Receive Maintenance For "+e.userMasterId,this.generateReceiptDialog=!0,this.getUserMaster(e.userMasterId,e),this.initializeGenerateMaintenanceForm(e)}initializeGenerateMaintenanceForm(e){console.log(e),this.generateMaintenanceForm=this._formBuilder.group({id:null==e?void 0:e.id,maintenanceAmount:[null==e?void 0:e.maintenanceAmount,[a.q.required]],waterAmount:[null==e?void 0:e.waterAmount,[a.q.required]],amount:[(null==e?void 0:e.amount)+(null==e?void 0:e.previousPendingAmount),[a.q.required]],amountReceived:[""],usedUnit:[null==e?void 0:e.usedUnit,[a.q.required]],previousReading:[null==e?void 0:e.previousReading,[a.q.required]],currentReading:[null==e?void 0:e.currentReading,[a.q.required]],maintenancePaid:[!0,[a.q.required]],averageReading:[null==e?void 0:e.averageReading],payType:["",[a.q.required]],amountType:["Credit"],description:[""],referenceNo:["",[a.q.required]],bankName:["",[a.q.required]],userMasterId:[null==e?void 0:e.userMasterId],createdBy:"Admin",createdDate:null==e?void 0:e.createdDate,updatedDate:(new Date).getTime(),maintainenceType:null==e?void 0:e.maintainenceType,month:null==e?void 0:e.month,otherAmount:null==e?void 0:e.otherAmount,otherDescription:null==e?void 0:e.otherDescription,previousPendingAmount:null==e?void 0:e.previousPendingAmount}),this.generateMaintenanceForm.get("payType").valueChanges.subscribe(e=>{"Cheque"===e||"Online"===e?(this.generateMaintenanceForm.addControl("referenceNo",new a.c("",[a.q.required])),this.generateMaintenanceForm.addControl("bankName",new a.c("",[a.q.required]))):"Cash"===e&&(this.generateMaintenanceForm.removeControl("referenceNo"),this.generateMaintenanceForm.removeControl("bankName"))})}onSubmitGenerateReceipt(e){if(console.log(e.value),this.remainingAmount=0,!this.generateMaintenanceForm.valid){let t;for(t in this.generateMaintenanceForm.controls)this.generateMaintenanceForm.controls[t].markAsDirty(),this.generateMaintenanceForm.controls[t].updateValueAndValidity();return this.generateMaintenanceFormSubmitted=!0,this.maintenanceBillMaster=e.value,!1}this.maintenanceBillMaster=e.value,this.amountType=e.value.amountType,this.referenceNo=e.value.referenceNo,this.bankName=e.value.bankName,this.remainingAmount=Number(this.userMasterDto.amount)-Number(this.maintenanceBillMaster.amountReceived),console.log(this.maintenanceBillMaster),console.log(this.maintenanceBillMaster.id),this.angularFireDatabase.database.ref("maintenancemaster").child(this.maintenanceBillMaster.id).set(this.maintenanceBillMaster).finally(()=>{this.onSubmitUserMasterAmountUpdate(),this.onSubmitIncome(this.maintenanceBillMaster),console.log("completed")}).catch(e=>{this.notificationService.error(e,""),console.log(e)})}getUserMaster(e,t){this.dashboardService.getUser(e).valueChanges().subscribe(e=>{if(console.log(e),e){if(this.count=this.count+1,1===this.count)return this.userMasterDto=e,console.log(this.userMasterDto),this.initializeGenerateMaintenanceForm(t),!1}else this.notificationService.error("Something Error","")},e=>{console.error(e)})}onSubmitUserMasterAmountUpdate(e){e&&(this.userMasterDto.previousReading=e.currentReading),this.userMasterDto.amount=Number(this.remainingAmount),this.userMasterDto.updatedDate=(new Date).getTime(),this.angularFireDatabase.database.ref("user").child(this.userMasterDto.user_name).set(this.userMasterDto).finally(()=>(this.clearAll(),!0)).catch(e=>{this.notificationService.error(e,""),console.log(e)})}onSubmitIncome(e){const t=new Et;t.amount=e.amountReceived,t.payType=e.payType,t.payTo="Admin",t.description=e.description,t.amountType=this.amountType,t.userMasterId=e.userMasterId,t.createdDate=new Date,t.updatedDate=new Date,t.MaintenanceAmount=e.amount,t.referenceNo=this.referenceNo,t.bankName=this.bankName,console.log(t),console.log(e),this.adminService.addIncome(t).subscribe(e=>{console.log(e),e&&this.clearAll()},e=>{console.error(e)})}clearAll(){return this.userMasterDto=null,this.maintenanceBillMaster=null,this.remainingAmount=null,this.hideGenerateReceiptDialog(),this.hidemaintenanceBillDialog(),this.getSampleData(),this.count=0,!0}getSampleData(){this.dashboardService.getMaintenanceAmountData().subscribe(e=>{this.lstofMaintenance=[],this.maintenanceData=[],console.log(e),e&&(this.maintenanceData=Object.keys(e).map(t=>({type:t,value:e[t]})),this.maintenanceData.forEach(e=>{e.value.id=e.type,this.lstofMaintenance.push(e.value)}),this.lstofMaintenance=this.lstofMaintenance.sort((e,t)=>new Date(t.createdDate)-new Date(e.createdDate)),this.totalRecords=this.maintenanceData.length,"200"===e.statusCode&&"OK"===e.message&&this.errorService.userNotification(e.statusCode,"Get Data"),console.log(this.lstofMaintenance))},e=>{console.error(e)})}viewMaintenanceBill(e){console.log(this.maintenanceBill)}exportPdfForBill(e){const t=document.getElementById("generatedBillTabel");console.log(e),A()(t).then(n=>{let i,a;console.log(t);const r=n.toDataURL("image/png",(i=n.width)*(a=n.height)),o=a/i,c=new M.a({orientation:"portrait"}),l=c.internal.pageSize.width;console.log(l);const s=l*o;console.log(s),c.addImage(r,"JPEG",.15*l,30,.7*l,.7*s),c.save(e.userMasterId+"_"+e.month+"_maintenance-bill.pdf")})}exportPdfForReceipt(e){const t=document.getElementById("generatedReceiptTabel");A()(t).then(t=>{let n,i;const a=t.toDataURL("image/png",(n=t.width)*(i=t.height)),r=i/n,o=new M.a({orientation:"portrait"}),c=o.internal.pageSize.width;o.addImage(a,"JPEG",.15*c,30,.7*c,c*r*.7),o.save(e.userMasterId+"_"+e.month+"_maintenance-receipt.pdf")})}editMaintenanceBill(e){this.initializeEditMaintenanceForm(e),this.editMaintenanceBillData=e,this.editMaintenanceBillDialog=!0,this.getUserMaster(e.userMasterId,e),this.popupHeader="Edit Maintainence"}initializeEditMaintenanceForm(e){this.editMaintenanceForm=this._formBuilder.group({id:e.id,maintenanceAmount:e.maintenanceAmount,waterAmount:e.waterAmount,amount:e.amount,amountReceived:e.amountReceived,usedUnit:e.usedUnit,previousReading:e.previousReading,currentReading:e.currentReading,maintenancePaid:e.maintenancePaid,averageReading:null==e?void 0:e.averageReading,payType:e.payType,userMasterId:e.userMasterId,createdBy:"Admin",createdDate:e.createdDate,updatedDate:(new Date).getTime(),maintainenceType:null==e?void 0:e.maintainenceType,month:null==e?void 0:e.month,otherAmount:null==e?void 0:e.otherAmount,otherDescription:null==e?void 0:e.otherDescription,previousPendingAmount:e.previousPendingAmount}),this.editMaintenanceForm.get("maintainenceType").valueChanges.subscribe(e=>{var t,n;"Tenant"===e?this.editMaintenanceForm.controls.maintenanceAmount.setValue(null===(t=this.feesMasterData)||void 0===t?void 0:t.MAINTENANCE_AMOUNT_TENANT.amount):"Own"===e&&this.editMaintenanceForm.controls.maintenanceAmount.setValue(null===(n=this.feesMasterData)||void 0===n?void 0:n.MAINTENANCE_AMOUNT.amount)}),this.editMaintenanceForm.get("currentReading").valueChanges.subscribe(e=>{this.editMaintenanceForm.controls.usedUnit.setValue(Number(e)-Number(this.editMaintenanceForm.get("previousReading").value))})}onSubmitEditMaintenanceBill(e){if(this.remainingAmount=0,!this.editMaintenanceForm.valid){let t;for(t in this.editMaintenanceForm.controls)this.editMaintenanceForm.controls[t].markAsDirty(),this.editMaintenanceForm.controls[t].updateValueAndValidity();return this.editMaintenanceFormSubmitted=!0,this.maintenanceBillMaster=e.value,!1}let t;this.receiptGenerated=!0,this.maintenanceBillMaster=e.value,this.maintenanceBillMaster.currentReading&&this.maintenanceBillMaster.previousReading&&this.maintenanceBillMaster.currentReading>0&&this.maintenanceBillMaster.previousReading>0&&!this.maintenanceBillMaster.averageReading?t=(this.maintenanceBillMaster.currentReading-this.maintenanceBillMaster.previousReading)*this.maintenanceBillMaster.waterAmount:this.maintenanceBillMaster.averageReading&&(t=this.maintenanceBillMaster.averageReading);let n=Number(t);n+=Number(this.maintenanceBillMaster.maintenanceAmount),n+=Number(this.maintenanceBillMaster.otherAmount),this.remainingAmount=n-Number(this.maintenanceBillMaster.amount),this.maintenanceBillMaster.amount=n,this.receiptDetail=e.value,this.angularFireDatabase.database.ref("maintenancemaster").child(e.value.id).set(this.maintenanceBillMaster).finally(()=>(this.getSampleData(),this.onSubmitUserMasterAmountUpdateForEdit(this.maintenanceBillMaster),this.onHideEdirMaintainenceDialog(),!0)).catch(e=>{this.notificationService.error(e,"")})}onHideEdirMaintainenceDialog(){this.editMaintenanceBillDialog=!1}getFessMasterData(){this.dashboardService.getFeesData().subscribe(e=>{this.feesMasterData=e,"200"===e.statusCode&&"OK"===e.message&&this.errorService.userNotification(e.statusCode,"Get Data")},e=>{console.error(e)})}onSubmitUserMasterAmountUpdateForEdit(e){this.userMasterDto.previousReading=e.currentReading,this.userMasterDto.amount=Number(this.userMasterDto.amount)+Number(this.remainingAmount),this.userMasterDto.updatedDate=(new Date).getTime(),this.angularFireDatabase.database.ref("user").child(this.userMasterDto.user_name).set(this.userMasterDto).finally(()=>(this.clearAll(),!0)).catch(e=>{this.notificationService.error(e,"")})}}return e.\u0275fac=function(t){return new(t||e)(c.Mb(D.a),c.Mb(B.a),c.Mb(u.a),c.Mb(a.b),c.Mb(T.a),c.Mb(d.a),c.Mb(b.a))},e.\u0275cmp=c.Gb({type:e,selectors:[["app-receive-maintainence"]],decls:24,vars:29,consts:[[1,"d-flex","align-self-center","main-nav","bg-primary","text-dark"],[1,"pt-3","pl-4"],[1,"container-fluid","my-3"],["styleClass","p-datatable-gridlines","scrollHeight","400px","currentPageReportTemplate","Showing {first} to {last} of {totalRecords} records",1,"mx-3",3,"scrollable","value","paginator","rows","totalRecords","showCurrentPageReport","rowsPerPageOptions"],["dt",""],["pTemplate","colgroup"],["pTemplate","header"],["pTemplate","body"],["pTemplate","emptymessage"],["styleClass","p-fluid",3,"visible","modal","visibleChange","onHide"],["pTemplate","content"],["pTemplate","footer"],["styleClass","p-fluid",3,"visible","header","modal","visibleChange","onHide"],["style","width: 150px;",4,"ngFor","ngForOf"],[2,"width","150px"],[4,"ngFor","ngForOf"],[4,"ngIf"],["pTooltip","View Generated Bill",1,"p-button","bg-dark","rounded",2,"font-size","15px","padding","10px",3,"click"],[1,"pi","pi-eye",2,"font-size","15px"],["pTooltip","Receive Maintenance","style","font-size: 15px; padding: 10px;","class","p-button bg-dark rounded",3,"click",4,"ngIf"],["pTooltip","View Generated Receipt","class","p-button bg-dark rounded","style","font-size: 15px; padding: 10px;",3,"click",4,"ngIf"],["pTooltip","Edit Maintainence Bill","class","p-button bg-dark rounded","style","font-size: 15px; padding: 10px;",3,"click",4,"ngIf"],["pTooltip","Receive Maintenance",1,"p-button","bg-dark","rounded",2,"font-size","15px","padding","10px",3,"click"],[1,"pi","pi-upload",2,"font-size","15px"],["pTooltip","View Generated Receipt",1,"p-button","bg-dark","rounded",2,"font-size","15px","padding","10px",3,"click"],["pTooltip","Edit Maintainence Bill",1,"p-button","bg-dark","rounded",2,"font-size","15px","padding","10px",3,"click"],[1,"pi","pi-pencil",2,"font-size","15px"],[1,"text-center"],["id","generatedBillTabel",4,"ngIf"],["id","generatedBillTabel"],[1,"table","table-bordered"],[1,"thead-light"],[1,""],[1,"table-primary"],["scope","col","colspan","3",1,"align-center","text-center",2,"margin-bottom","20px"],["width","100","alt","profilePhoto",1,"d-inline","rounded-circle",3,"src"],[1,"d-inline",2,"font-size","2rem"],["scope","col","colspan","3",1,"text-center"],[1,"pi","pi-envelope"],["scope","col","colspan","3"],["class","table-primary",4,"ngIf"],[1,"table-dark"],["scope","col"],[1,"text-wrap","text-break"],[4,"ngIf","ngIfElse"],[1,"table-success"],["type","button","pButton","","pRipple","","pTooltip","Download PDF","tooltipPosition","bottom",1,"bg-dark",3,"click"],[1,"pi","pi-download",2,"font-size","15px"],["id","generatedReceiptTabel",4,"ngIf"],["id","generatedReceiptTabel"],[1,"table"],[3,"formGroup","ngSubmit"],[1,"p-field"],["for","maintenanceAmount"],["type","text","disabled","","pInputText","","id","maintenanceAmount","formControlName","maintenanceAmount","placeholder","Enter Maintenance Amount","required","","autofocus","","pKeyFilter","num","maxLength","50"],["class","p-invalid",4,"ngIf"],["for","waterAmount"],["type","text","disabled","","pInputText","","id","waterAmount","formControlName","waterAmount","placeholder","Enter Water Amount","required","","autofocus","","pKeyFilter","num","maxLength","50"],["for","usedUnit"],["type","text","disabled","","pInputText","","id","usedUnit","formControlName","usedUnit","placeholder","Enter Used Unit","required","","autofocus","","pKeyFilter","num","maxLength","50"],["for","previousReading"],["type","text","pInputText","","id","previousReading","formControlName","previousReading","placeholder","Enter Previous Reading","required","","autofocus","","pKeyFilter","num","maxLength","50"],["for","currentReading"],["type","text","disabled","","pInputText","","id","currentReading","formControlName","currentReading","placeholder","Enter Current Reading","required","","autofocus","","pKeyFilter","num","maxLength","50"],["for","averageReading"],["type","text","disabled","","pInputText","","id","averageReading","formControlName","averageReading","placeholder","Enter Average Reading","autofocus","","pKeyFilter","num","maxLength","50"],["for","amount"],["type","text","disabled","","pInputText","","id","amount","formControlName","amount","placeholder","Enter Amount","required","","autofocus","","pKeyFilter","num","maxLength","50"],["for","name"],["formControlName","payType","optionValue","label","placeholder","Select payment type",3,"options","showClear"],["class","p-field",4,"ngIf"],["for","description"],["pInputText","","formControlName","description","maxlength","500","name","description","id","","cols","200","rows","4","placeholder","Enter Description",1,"w-100"],["for","amountReceived"],["type","text","pInputText","","id","amountReceived","formControlName","amountReceived","placeholder","Enter amountReceived","required","","autofocus","","pKeyFilter","num","maxLength","50"],[1,"p-invalid"],["for","referenceNo"],["type","text","pInputText","","id","referenceNo","formControlName","referenceNo","placeholder","Enter referenceNo","required","","autofocus","","maxLength","50"],["for","bankName"],["type","text","pInputText","","id","bankName","formControlName","bankName","placeholder","Enter bankName","required","","autofocus","","maxLength","50"],["pButton","","pRipple","","label","Cancel","icon","pi pi-times",1,"bg-primary","text-dark",3,"click"],["pButton","","pRipple","","label","Save","icon","pi pi-check",1,"bg-dark",3,"click"],["formControlName","maintainenceType","optionValue","label","placeholder","Select Maintainence type",3,"options","showClear"],["formControlName","month","optionValue","label","placeholder","Select Month",3,"options","showClear"],["type","text","pInputText","","id","currentReading","formControlName","currentReading","placeholder","Enter Current Reading","required","","autofocus","","pKeyFilter","num","maxLength","50"],["type","text","pInputText","","id","usedUnit","formControlName","usedUnit","placeholder","Enter Used Unit","required","","autofocus","","pKeyFilter","num","maxLength","50","disabled",""],["type","text","pInputText","","id","averageReading","formControlName","averageReading","placeholder","Enter Average Water bill","autofocus","","pKeyFilter","num","maxLength","50"],["for","otherAmount"],["type","text","pInputText","","id","otherAmount","formControlName","otherAmount","placeholder","Enter Other Amount","autofocus","","pKeyFilter","num","maxLength","50"],["type","text","pInputText","","id","otherDescription","formControlName","otherDescription","placeholder","Enter Other Description","autofocus",""]],template:function(e,t){1&e&&(c.Sb(0,"nav",0),c.Sb(1,"div",1),c.Sb(2,"b"),c.Sb(3,"h2"),c.Nc(4," Receive Maintenance "),c.Rb(),c.Rb(),c.Rb(),c.Rb(),c.Sb(5,"div",2),c.Sb(6,"p-table",3,4),c.Lc(8,Gt,2,1,"ng-template",5),c.Lc(9,Ht,2,1,"ng-template",6),c.Lc(10,Jt,27,17,"ng-template",7),c.Lc(11,$t,3,1,"ng-template",8),c.Rb(),c.Rb(),c.Sb(12,"p-dialog",9),c.dc("visibleChange",(function(e){return t.maintenanceBillDialog=e}))("onHide",(function(){return t.hidemaintenanceBillDialog()})),c.Lc(13,un,1,1,"ng-template",10),c.Lc(14,dn,2,0,"ng-template",11),c.Rb(),c.Sb(15,"p-dialog",9),c.dc("visibleChange",(function(e){return t.maintenanceReceiptDialog=e}))("onHide",(function(){return t.hidemaintenanceReceiptDialog()})),c.Lc(16,fn,1,1,"ng-template",10),c.Lc(17,Rn,2,0,"ng-template",11),c.Rb(),c.Sb(18,"p-dialog",12),c.dc("visibleChange",(function(e){return t.generateReceiptDialog=e}))("onHide",(function(){return t.hideGenerateReceiptDialog()})),c.Lc(19,Gn,50,12,"ng-template",10),c.Lc(20,Un,2,0,"ng-template",11),c.Rb(),c.Sb(21,"p-dialog",12),c.dc("visibleChange",(function(e){return t.editMaintenanceBillDialog=e}))("onHide",(function(){return t.onHideEdirMaintainenceDialog()})),c.Lc(22,ii,49,13,"ng-template",10),c.Lc(23,ai,2,0,"ng-template",11),c.Rb()),2&e&&(c.Ab(6),c.nc("scrollable",!0)("value",t.lstofMaintenance)("paginator",!0)("rows",t.size)("totalRecords",t.totalRecords)("showCurrentPageReport",!0)("rowsPerPageOptions",t.rowsPerPageOptions),c.Ab(6),c.Hc(c.qc(25,ri)),c.nc("visible",t.maintenanceBillDialog)("modal",!0),c.Ab(3),c.Hc(c.qc(26,ri)),c.nc("visible",t.maintenanceReceiptDialog)("modal",!0),c.Ab(3),c.Hc(c.qc(27,oi)),c.oc("header",t.popupHeader),c.nc("visible",t.generateReceiptDialog)("modal",!0),c.Ab(3),c.Hc(c.qc(28,oi)),c.oc("header",t.popupHeader),c.nc("visible",t.editMaintenanceBillDialog)("modal",!0))},directives:[w.b,x.h,P.a,i.l,i.m,I.a,q.a,L.a,a.s,a.l,a.e,a.a,p.a,a.k,a.d,a.p,g.a,C.a,a.g],pipes:[i.e,i.c],styles:[""]}),e})()},{path:"change-password",component:S}]}];let li=(()=>{class e{}return e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({factory:function(t){return new(t||e)},imports:[[o.c.forChild(ci)],o.c]}),e})(),si=(()=>{class e{}return e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({factory:function(t){return new(t||e)},imports:[[i.b]]}),e})(),bi=(()=>{class e{}return e.\u0275mod=c.Kb({type:e}),e.\u0275inj=c.Jb({factory:function(t){return new(t||e)},imports:[[i.b,li,a.f,a.o,r.a,si]]}),e})()}}]);